<!-- Ticket No - EMEA-198 Updating API Version -->
<!--
		************ Modification Log  ************
		* Modified by :{Girikon(Mahesh)[CCEN-579] Dec 31 2018} ,{Girikon(Amish)[CCEN-594] Jan 31 2019},
		  {Girikon(Mahesh)[CCEN-653] Feb 06 2019,[CCEN-679] Feb 22 2019,[CCEN-680] March 04 2019, [CCEN-102] Sept 30 2019, [STL-276] Oct 18 2019} 
		  [Aishwarya BK-6779 5 aug 2020],[Aishwarya BK-9307 5 Oct 2020],[Aishwarya BK-10864 20 Nov 2020]
	-->
	<aura:component controller="NewCreateTemplateCtr" implements="flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" access="global">
		<!-- Start attribute -->    
		<aura:attribute name="richTextCharLimit" type="Integer" default="0" />
		<aura:attribute name="recordId" type="String" default="" access="global"/>
		<aura:attribute name="QnaireId" type="String" />   
		<aura:attribute name="AccId" type="String" default="" access="global" />
		<aura:attribute name="eventEditionId" type="String" />
		<aura:attribute name="eventEditionCode" type="String" />
		<aura:attribute name="isMergeAllSection" type="boolean" default="false" />    
		<aura:attribute name="QnaireName" type="String" />
		<aura:attribute name="objQnaire" type="Object" default="{ 'sobjectType': 'Questionnaire__c'}" />
		<aura:attribute name="lstQuesCategory" type="List" />
		<aura:attribute name="selTabId" type="String" />
		<aura:attribute name="lstQuesGroup" type="Question_Questionnaire__c[]" />
		<aura:attribute name="lstQQuesnnaire" type="FBPreviewWrapper" />
		<aura:attribute name="isShowSignatureModal" type="Boolean" default="false" />
		<aura:attribute name="showSign" type="Boolean" default="false" />
		<aura:attribute name="required" type="Boolean" default="false" />
		<aura:attribute name="lstQDynLogicMain" type="Questionnaire_Dynamic_Logic__c[]" />
		<aura:attribute name="Spinner" type="boolean" default="true" />
		<aura:attribute name="Obj_Question_Questionnaires" type="Question_Questionnaire__c" default="{ 'sobjectType': 'Question_Questionnaire__c'}" />
		<aura:attribute name="keepSectionNo" type="Integer" default="0" />
		<aura:attribute name="disablePrevSection" type="boolean" default="false" />
		<aura:attribute name="disableNextSection" type="boolean" default="false" />
		<aura:attribute name="disablePublishButton" type="boolean" default="false" />
		<aura:attribute name="responseList" type="list" default="[]" description="Response list of object{qid,resid,restext,isComment}"/>
		<aura:attribute name="tempResponseList" type="list" default="[]" description="Response list"/>
		<aura:attribute name="questionId" type="String" default="" description="used for save signaure"/>
		<aura:attribute name="isLookupFiledValid" type="Boolean" default="true" description="Use for store lookupfiled validation info"/>
		<aura:attribute name="lookupValues" type="list" default="[]"/>

		<aura:attribute name="validmap" type="Map"/>
        <aura:attribute name="SigMap" type="Map"/>
        <aura:attribute name="listAttchIds" type="List"/>
        <aura:attribute name="listNewAttchIds" type="List"/>
        <aura:attribute name="checkDataMap" type="Map" description="Contains id and boolean value"/>
        <aura:attribute name="response" type="String" description="Storing the response from Signature"/>

		<aura:attribute name="islastSection" type="Boolean" default="false"/>
		<aura:attribute name="FormName" type="String" access="public"/>

		<!-- button attributes -->

		<aura:attribute name="isCustomButton" type="boolean" default="false"/>
		<aura:attribute name="BackToForm" type="boolean" default="false"/>
		<aura:attribute name="approveStatus" type="boolean" default="true"/>
		<!--submit button -->
		<aura:attribute name="buttonSubmitLabel" type="string" default="submit"/>
		<aura:attribute name="buttonTextColor" type="string" default="#FFFFFF"/>
		<aura:attribute name="buttonBGColor" type="string" default="#2196F3"/>
		<aura:attribute name="buttonBorderColor" type="string" default="#2196F3"/>

		<!--Next button -->
		<aura:attribute name="buttonNextLabel" type="string" default="Next Questions"/>
		<aura:attribute name="buttonNextTextColor" type="string" default="#FFFFFF"/>
		<aura:attribute name="buttonNextBGColor" type="string" default="#0b7477"/>
		<aura:attribute name="buttonNextBorderColor" type="string" default="#0b7477"/>

		<!--Previous button -->
		<aura:attribute name="buttonPrevLabel" type="string" default="Previous Questions"/>
		<aura:attribute name="buttonPrevTextColor" type="string" default="#FFFFFF"/>
		<aura:attribute name="buttonPrevBGColor" type="string" default="#bd35bd"/>
		<aura:attribute name="buttonPrevBorderColor" type="string" default="#bd35bd"/>
		
		<!-- buttons Allignment-->
		<aura:attribute name="float" type="string" default="slds-float_center slds-p-around_small"/>
		<aura:attribute name="buttonAllignment" type="string" default="bottom-center"/>
		<aura:attribute name="buttonPosition" type="string" default="Bottom"/>
		<!-- button attribute end here-->

		<!-- event handlers -->
		<aura:handler name="init" action="{!c.doInit}" value="{!this}"/>
		<aura:handler event="c:QFFieldModelCloseEvt" action="{!c.handleCloseModelEvent}" />
		<aura:handler event="c:LookupValueEvent" action="{!c.handleLookupValueEvent}" />
		<aura:handler event="c:getValidationInfoEvt" action="{!c.handleLookupValidationInfoEvent}" />  
		
		<aura:attribute name="msgtype" type="String" default=""/>
		<aura:attribute name="msgbody" type="String" default=""/>

		<aura:if isTrue="{!v.Spinner}">
			<lightning:spinner size="medium" variant="brand" aura:id="spinnerId"/>
		</aura:if>

		<aura:if isTrue="{!v.msgbody!=''}">
           
			<div class="slds-notify_container slds-is-fixed">
				<div class="{!'slds-notify slds-notify_toast slds-theme_'+v.msgtype}" role="alert">
				  <span class="slds-assistive-text">{!v.msgtype}</span>
				  <span class="{!'slds-icon_container slds-icon-utility-'+v.msgtype+' slds-m-right_small slds-no-flex slds-align-top'}" title="Description of icon when needed">
					<lightning:icon iconName="{!'utility:'+v.msgtype}" size="small" variant="inverse"/>
				  </span>
				  <div class="slds-notify__content">
					<h2 class="slds-text-heading_small" style="color:#fff;font-size:1rem">{!v.msgbody}</h2>
				  </div>
				  <button class="slds-button slds-button_icon slds-notify__close slds-button_icon-inverse" title="Close" onclick="{!c.closeToast}">
					<lightning:icon iconName="utility:close" size="small" variant="inverse"/>
					<span class="slds-assistive-text">Close</span>
				  </button>
				</div>
			</div>
		</aura:if>

		<!-- event handlers -->
		<lightning:card aura:id="templateHeader" class="slds-size_12-of-12 slds-align_absolute-center">
            <aura:set attribute="title">
				<div class="slds-media slds-no-space slds-grow" >
					<div class="slds-media__figure">
						<lightning:icon iconName="standard:template" title="Search Questionnaire Template" />
					</div>
					<div class="slds-media__body">
						<h1 class="slds-page-header__title slds-p-right_x-small">
							<button class="slds-button slds-button_reset slds-type-focus slds-truncate" aria-haspopup="true" title="">
								<span class="slds-grid slds-has-flexi-truncate slds-grid_vertical-align-center">
									<!--<span class="slds-truncate" title="Recently Viewed">{!v.objQnaire.Name}</span>-->
									<span class="slds-truncate" title="Recently Viewed">{!v.FormName}</span>
								</span>
							</button>
						</h1>
						<nav class="slds-text-heading_small">{!v.objQnaire.Description__c}</nav>
					</div>
				</div>
			</aura:set>
			<aura:set attribute="actions">
			   <aura:if isTrue="{!v.BackToForm}">
                   
					<lightning:button variant="brand" label="Back To Forms " onclick="{!c.goToNewPage}"/>                              
					<!--   Version :{!v.objQnaire.Version__c}, &nbsp;&nbsp; Category :{!v.objQnaire.Category__c}&nbsp;&nbsp;   -->         
				</aura:if>
		
			</aura:set>
		</lightning:card>
		<aura:if isTrue="{!v.isCustomButton &amp;&amp; v.buttonPosition=='Top'}">
			<lightning:card title="Action" class="border" aura:id="girikoncard">
				<lightning:layout aura:id="girikonlayout">
					<lightning:layoutItem size="12" aura:id="girikonlayoutItem">
						<center>
							<div class="slds-grid slds-wrap" >
								<aura:if isTrue="{!v.isMergeAllSection}">
									<button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonBGColor+';'+'border-color:'+v.buttonBorderColor+';'+'color:'+v.buttonTextColor+';'}" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
								</aura:if>
								<aura:if isTrue="{!v.isMergeAllSection==false}">
									<div class="slds-col slds-p-around_small">
										<button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonPrevBGColor+';'+'border-color:'+v.buttonPrevBorderColor+';'+'color:'+v.buttonPrevTextColor+';'}" onclick="{!c.previousSection}" disabled="{!v.disablePrevSection == true ? false : true}">{!v.buttonPrevLabel}</button>
									</div>
									<div class="slds-col slds-p-around_small">                                      
										<div><button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonNextBGColor+';'+'border-color:'+v.buttonNextBorderColor+';'+'color:'+v.buttonNextTextColor+';'}" onclick="{!c.nextSection}" disabled="{!v.disableNextSection == true ? false : true}">{!v.buttonNextLabel}</button></div>
									</div>
									<div class="slds-col slds-p-around_small">                      
										<button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonBGColor+';'+'border-color:'+v.buttonBorderColor+';'+'color:'+v.buttonTextColor+';'}" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
									</div>
								</aura:if>
							</div>
						</center>
					</lightning:layoutItem>
				</lightning:layout>
			</lightning:card>
		</aura:if>
		<aura:if isTrue="{!v.isCustomButton==false &amp;&amp; v.buttonPosition=='Top'}">
			<lightning:card title="Action" class="border" aura:id="girikoncards">
				<lightning:layout aura:id="girikonlayouts">
					<lightning:layoutItem size="12" aura:id="girikonlayoutItems">
					   <center>
							<div class="slds-grid slds-wrap">
								<aura:if isTrue="{!v.isMergeAllSection}">
									<div class="slds-col slds-p-around_small">                      
										<button class="slds-button slds-button_brand" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
										</div>
								</aura:if>
								<aura:if isTrue="{!v.isMergeAllSection==false}">
									<div class="slds-col slds-p-around_small">
										<button class="slds-button slds-button_neutral" onclick="{!c.previousSection}" disabled="{!v.disablePrevSection == true ? false : true}">{!v.buttonPrevLabel}</button>
									</div>
									<div class="slds-col slds-p-around_small">                                      
										<div><button class="slds-button slds-button_neutral" onclick="{!c.nextSection}" disabled="{!v.disableNextSection == true ? false : true}">{!v.buttonNextLabel}</button></div>
									</div>
									<div class="slds-col slds-p-around_small">                      
										<button class="slds-button slds-button_brand" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
									</div>
								</aura:if>
							</div>
						</center>
					</lightning:layoutItem>
				</lightning:layout>
			</lightning:card>
		</aura:if>

		<!--Start Template Content-->
		<article class="slds-card qstnBuilderContent qf-card-remove qf-remove-header slds-size_12-of-12 slds-align_absolute-center">
			
			<div class="slds-card__body slds-card__body_inner slds-size_12-of-12 slds-p-top_x-small">
				<aura:iteration items="{!v.lstQQuesnnaire.sectionList}" var="section" indexVar="sectionIndex">                
					<div class="slds-grid slds-grid--align-space slds-wrap girikon-layout" aura:id="layoutrow">
						<!-- Render if section with 1 column-->
						<aura:if isTrue="{!section.sectionColNumber=='0' || section.sectionColNumber=='1'}">
							<div class="slds-p-right--small slds-p-left--small slds-size--12-of-12 slds-small-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12">
							<aura:iteration items="{!section.col1Questions.lstQuestn}" var="Question" indexVar="QuesIndex">
								<aura:iteration items="{!Question.Question_Questionnaires__r}" var="QuestionQuestnnaire" indexVar="QuestionQuestnnaireIndex">
									<aura:if isTrue="{!QuestionQuestnnaire.Related_To_Column__c =='col0' || QuestionQuestnnaire.Related_To_Column__c =='col1'}">
										<div aura:id="col-1" class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small">
											<div class="slds-form slds-form_stacked slds-grow ">
												<div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer' ? 'slds-panel__section1 qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!Question.Type__c=='Information'?'background:'+Question.Metadata__c+';color:'+Question.background_Color__c+';border-radius:0xp;padding:5px 15px;' : ''}">
													<div class="slds-media__body">
														<div class="slds-grid">
															<div class="slds-size_3-of-3">
																<div class="slds-form-element">   
																	<div class="slds-form-element__control">
																		<h2>
																		   <span class="qf-text slds-is-relative">
																				<div class="slds-grid  slds-wrap" data-questionid="{!Question.Id}"  aura:id="is_required" data-question_type="{!Question.Type__c}" data-is_required="{!QuestionQuestnnaire.Required__c==true}">
																					 <aura:if isTrue="{!and(QuestionQuestnnaire.Required__c==true , Question.Type__c!='Checkbox')}">
																							<span id="asteric">&#42;</span>
																					   </aura:if>
																					 <div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer'?'slds-size_3-of-3':'slds-col'}"><!--style="max-width:95%;"-->
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">
																						  <lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</aura:if> 
																						  <aura:if isTrue="{!Question.Type__c=='Checkbox'}">   
																							<div style="float: left;" >
																								<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																									<lightning:input aura:id="checkBox" type="checkbox"  required="{!QuestionQuestnnaire.Required__c}"  checked="true" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" variant="label-hidden" label="" />
																									<aura:set attribute="else">
																									  <lightning:input aura:id="checkBox" type="checkbox"  required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" variant="label-hidden" label="" />        
																									</aura:set>
																								</aura:if>  
																							</div>
																						</aura:if>   
																						  <aura:unescapedHtml value="{!QuestionQuestnnaire.Question__r.Label__c}"/>
																					</div>
																					<aura:if isTrue="{!Question.Type__c!='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIconAll'}" />
																					  </aura:if> 
																				</div>  
																				 <!-- <aura:if isTrue="{!QuestionQuestnnaire.Required__c==true}">
																						<span id="asteric">&#42;</span>
																				   </aura:if>   -->     
																			</span> 
																		</h2>
																	</div>
																</div>
															</div>                                            
														</div>
													</div>
												</div>
												<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c !='Information' &amp;&amp; QuestionQuestnnaire.Question__r.Type__c !='Header/Footer'}">
													<div class="slds-panel__section">
														<div class="slds-grow questionBuilder slds-is-relative">
															<fieldset class="slds-form-element" style="min-width: 100%;"> 
																<div class="slds-form-element__control slds-clearfix">
																	<aura:if isTrue="{!Question.Type__c=='TextPlain'}">
																		<aura:if isTrue="{!v.BackToForm}">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!QuestionQuestnnaire.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			<aura:set attribute="else">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}"  minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			</aura:set>
																		</aura:if>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Email'}">
																		<lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Address'}">
																		<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Phone'}">
																		<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" messageWhenPatternMismatch="Phone number is not valid"/>                                             
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Date'}">
																		<!-- <lightning:input type="date"  aura:id="inputDateFields" onclick ="{!c.nullify}" onblur="{!c.nullify}" onchange="{!c.nullify}" label=" aish" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="date" id="inputDateFields"  label=" " class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>


																	<aura:if isTrue="{!Question.Type__c=='DateTime'}">
																		<!--<lightning:input type="datetime"  aura:id="inpputDateTimeFields"  label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="datetime"  id="inputDateTimeFields"  label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	 
																	<aura:if isTrue="{!Question.Type__c=='RichText'}">
																		<div data-value="{!QuestionQuestnnaire.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																			<lightning:inputRichText aura:id="inputRichtextFields" placeholder="Compose text..." label="" class="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</div>                                                        
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='URL'}">
																		<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Number'}">
																		<div class="{!Question.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																			<aura:if isTrue="{!Question.Allow_Currency__c==true}">
																				<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default">
																					{!Question.Currency_Symbol__c}
																				</span>
																			</aura:if>                 
																			<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!QuestionQuestnnaire.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" pattern="{!QuestionQuestnnaire.patterns}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}" class="currency-val-padd"/>
																		</div>                                                  
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Picklist'}">
																		<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+QuesIndex+'_col1Questions_'+sectionIndex}" required="{!QuestionQuestnnaire.Required__c}" onchange="{!c.setPicklistScore}" variant="label-hidden" value="{!QuestionQuestnnaire.responseValue1}">
																			<option value="">choose one...</option>
																			<aura:iteration items="{!Question.Question_Options__r}" var="QustnOptionsSelect" indexVar="index">
																				<option value="{!QustnOptionsSelect.Id}">{!QustnOptionsSelect.Name__c}</option>
																			</aura:iteration>
																		</lightning:select>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Slider'}">
																		<lightning:slider aura:id="sliderfield" max="{!QuestionQuestnnaire.Maximum_value__c}" min="{!QuestionQuestnnaire.Minimum_Value__c}" step="{!QuestionQuestnnaire.Step_Size__c}" value="{!QuestionQuestnnaire.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden" title="{!QuestionQuestnnaire.responseValue1}"/>                                                        
																		<lightning:layout >
																				<lightning:layoutItem size="4">
																					<span>MIN: {!QuestionQuestnnaire.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!QuestionQuestnnaire.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-float_right">
																						<span>MAX: {!QuestionQuestnnaire.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Radio'}">
																		<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																			<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!Question.Question_Options__r}" value="{!QuestionQuestnnaire.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																		</div>                                                        
																	</aura:if>                                                    
																	
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='GPS Location'}">
																		<lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_col1Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																		<div class="slds-wrap slds-grid">
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				<lightning:input aura:id="inputFields" label="latitude" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'latitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			</div>
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				 <lightning:input aura:id="inputFields" label="longitude" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'longitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue2}"/>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Switch'}">
																		<div class="gkn-toggle">
																			<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																				<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				
																				<aura:set attribute="else">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				</aura:set>
																			</aura:if>
																		</div>
																	</aura:if> 
																	<!-- Working to get value of following type of fields -->
																	<aura:if isTrue="{!Question.Type__c=='Signature'}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<lightning:button label="Sign" aura:id="signBttn" value="{!Question.Id}" onclick="{!c.showSignModel}" class="slds-float_right" />
                                                                                <div id="signatureUpload" style="display:none; color: #FF0000;">
                                                                                Please Upload Atleast One Signature!
                                                                                </div>
                                                                                <div id="{!'sig_'+Question.Id}">
																					<aura:if isTrue="{!QuestionQuestnnaire.responseValue1!=''}">
																						<img src="{!QuestionQuestnnaire.responseValue1}" width="200"/>
																					</aura:if>
																				</div>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Lookup'}">
																		<div class="lookup-field">
																			<c:LookupComp selrecord="{!QuestionQuestnnaire.responseValue1}" response="{!QuestionQuestnnaire.responseValue1}" questionId="{!Question.Id}" isRequired="{!QuestionQuestnnaire.Required__c}" sobjectName="{!QuestionQuestnnaire.lookup_Object_API_Name__c}" field_API_Name="{!QuestionQuestnnaire.lookup_Object_Field_Name__c}" field_ID="Id" />
																		</div>
																	</aura:if>
																   
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='Media'}">
																		<c:FileUploader aura:id="attach" fileName="{!QuestionQuestnnaire.attachment}"  questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																			Please Upload Atleast One Media File!
																		</div>
																	</aura:if>

																	<!-- Common Input Fields(Comment and Media Upload) for all questions-->
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Comment__c==true}">
																		<div class="comment-box">
																			<lightning:input aura:id="inputFields" label="Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!QuestionQuestnnaire.comment}"/>
																		</div>
																	</aura:if>
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Attachments__c==true}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			  </div>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</div>
																	</aura:if>
																</div>
															</fieldset>
														</div>
													</div>
												</aura:if>
											</div>
										</div>
									</aura:if>
									<!--Start branching section-->
									<aura:iteration items="{!Question.Question_Questionnaires__r[0].branchingQuestnQuetnnaire}" var="branchingRecord" indexVar="branchingIndex">
										<aura:if isTrue="{!branchingRecord.isShowQuestion==true}">
											<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small" >
												<div class="slds-form slds-form_stacked slds-grow ">
													<div class="{!branchingRecord.Question__r.Type__c == 'Information' ? 'slds-panel__section qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!branchingRecord.Question__r.Type__c == 'Information' ? 'background:'+ branchingRecord.Question__r.Metadata__c+' ; border-radius: 5xp;' : ''}">
														<div class="slds-media__body">
															<div class="slds-grid">
																<div class="slds-col">
																	<div class="slds-form-element">
																		<div class="slds-form-element__control">
																			<h2>
																				<span class="qf-text slds-is-relative">
																					<div class="slds-grid  slds-wrap">
																						<aura:if isTrue="{!branchingRecord.Required__c==true}">
																							<span id="asteric">&#42;</span>
																						</aura:if>
																						<div class="slds-col"><!-- style="max-width:100%;"-->
																						   <lightning:helptext iconName="utility:info"  content="{!branchingRecord.Help_Text__c}" class="{!branchingRecord.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																							<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Checkbox'}">   
																								<div style="float: left;" class="slds-form-element checkbx">
																									<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																										<lightning:input type="checkbox" checked="true" value="{!branchingRecord.responseValue1}" label="" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										<aura:set attribute="else">
																											<lightning:input type="checkbox" value="{!branchingRecord.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" label="" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										</aura:set>
																									</aura:if>
																								</div>
																							</aura:if>
																							<aura:unescapedHtml value="{!branchingRecord.Question__r.Label__c}"  /> 
																						</div>   
																					</div>  
																				</span>
																			</h2>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<aura:if isTrue="{!branchingRecord.Question__r.Type__c !='Information'}">
														<div class="slds-panel__section">
															<div class="slds-grow questionBuilder slds-is-relative">
																<fieldset class="slds-form-element" style="min-width: 100%;">
																	<div class="slds-form-element__control slds-clearfix">
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='TextPlain'}">
																			<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!branchingRecord.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!branchingRecord.Required__c}" label="{!branchingRecord.Question__r.Label__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Email'}">
																		   <lightning:input aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" label="" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" name="{!'name_'+Question.Id}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Address'}">
																			<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Phone'}">
																			<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" messageWhenPatternMismatch="Phone number is not valid"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='URL'}">
																			<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Date'}">
																			<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onchange="{!c.nullify}" onblur ="{!c.nullify}" class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>   
																		                                                     
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='DateTime'}">
																			<!--<lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick ="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>  --> 
																			<lightning:input type="datetime" id="inputDateTimeFields" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='RichText'}">
																			<div data-value="{!branchingRecord.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																				<lightning:inputRichText label="" aura:id="inputRichtextFields" class="{!'inputRichText '+Question.Id}" value="{!branchingRecord.responseValue1}" placeholder="Compose text..." title="{!'title_'+Question.Id}"/>
																			</div>                                                            
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Number'}">
																			<div class="{!branchingRecord.Question__r.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																				<aura:if isTrue="{!branchingRecord.Question__r.Allow_Currency__c==true}">
																					<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default currencyIcon">{!branchingRecord.Question__r.Currency_Symbol__c}</span>
																				</aura:if>                         
																				<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!branchingRecord.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!branchingRecord.patterns}" variant="label-hidden" required="{!branchingRecord.Required__c}" name="{!'name_'+Question.Id}" value="{!branchingRecord.responseValue1}" class="currency-val-padd"/>
																			</div>                                                            
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Radio'}">
																			<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																				<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!branchingRecord.QuestionOptions}" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																			</div>                                                        
																		</aura:if>  
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Picklist'}">
																			<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+branchingIndex}" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" onchange="{!c.setPicklistScore}" variant="label-hidden">
																				<option value="">choose one...</option>
																				<aura:iteration items="{!branchingRecord.QuestionOptions}" var="BranchingQustnOptionsSelect" indexVar="index">
																						<option value="{!BranchingQustnOptionsSelect.Name__c}">{!BranchingQustnOptionsSelect.Name__c}</option>
																					</aura:iteration>
																			</lightning:select>                                                         
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Lookup'}">
																			<c:LookupComp selrecord="{!branchingRecord.responseValue1}" response="{!branchingRecord.responseValue1}" sobjectName="{!branchingRecord.lookup_Object_API_Name__c}" field_API_Name="{!branchingRecord.lookup_Object_Field_Name__c}" field_ID="Id" />
																			<span class="glyphicon glyphicon-search form-control-feedback"></span>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Signature'}">
																			<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																				<div class="slds-file-selector__dropzone qf-hide-label">
																					<lightning:button label="Sign" value="{!branchingRecord.Question__c}" onclick="{!c.showSignModel}" class="slds-float_right" />
																					<div id="{!'sig_'+branchingRecord.Question__c}">
																						<img src="{!branchingRecord.responseValue1}" width="200"/>
																					</div>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Switch'}">
																			<div class="gkn-toggle">
																				<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					
																					<aura:set attribute="else">
																						<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					</aura:set>
																				</aura:if>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Slider'}">
																			<lightning:slider aura:id="sliderfield" max="{!branchingRecord.Maximum_value__c}" min="{!branchingRecord.Minimum_Value__c}" step="{!branchingRecord.Step_Size__c}" value="{!branchingRecord.responseValue1}" title="{!branchingRecord.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden"/>
																			<lightning:layout >
																				<lightning:layoutItem size="4">                                     
																					<span>MIN: {!branchingRecord.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!branchingRecord.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4" class="slds-float_right">
																					<div class="slds-float_right">
																						<span>MAX: {!branchingRecord.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='GPS Location'}">
																		   <lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_'+branchingIndex+'_col1Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																			<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					<lightning:input aura:id="inputFields" label="latitude" value="{!branchingRecord.responseValue1}" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'latitude_'+Question.Id}"/>
																				</div>
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					 <lightning:input aura:id="inputFields" label="longitude" value="{!branchingRecord.responseValue2}" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'longitude_'+Question.Id}"/>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Media'}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Allow_Comment__c==true}">
																			<div class="comment-box">
																				<lightning:input aura:id="inputFields" label="Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!branchingRecord.comment}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Allow_Attachments__c==true}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</aura:if>
																	</div>
																</fieldset>
															</div>
														</div>
													</aura:if>
												</div>
											</div>
										</aura:if>
										<!--end branching section-->
									</aura:iteration>
								</aura:iteration>
							</aura:iteration>
							</div>
						</aura:if>
						<!-- Render if section with 2 columns-->
                        <aura:if isTrue="{!section.sectionColNumber=='2'}">
							<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
							<aura:iteration items="{!section.col1Questions.lstQuestn}" var="Question" indexVar="QuesIndex">
								<aura:iteration items="{!Question.Question_Questionnaires__r}" var="QuestionQuestnnaire" indexVar="QuestionQuestnnaireIndex">
									<aura:if isTrue="{!QuestionQuestnnaire.Related_To_Column__c =='col1'}">
										<div aura:id="col-1" class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small">
											<div class="slds-form slds-form_stacked slds-grow ">
												<div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer' ? 'slds-panel__section1 qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!Question.Type__c=='Information'?'background:'+Question.Metadata__c+';color:'+Question.background_Color__c+';color:'+Question.background_Color__c+';border-radius:0xp;padding:5px 15px;' : ''}">
													<div class="slds-media__body">
														<div class="slds-grid">
															<div class="slds-col ">
																<div class="slds-form-element">
																	<div class="slds-form-element__control">
																		<h2>
																			<span class="qf-text slds-is-relative">
																				<div class="slds-grid  slds-wrap" data-questionid="{!Question.Id}"  aura:id="is_required" data-question_type="{!Question.Type__c}" data-is_required="{!QuestionQuestnnaire.Required__c==true}" data-max_length="{!QuestionQuestnnaire.Max_Char_Length__c}">
																					<aura:if isTrue="{!and(QuestionQuestnnaire.Required__c==true , Question.Type__c!='Checkbox')}" >
																								<span id="asteric">&#42;</span>
																					 </aura:if>
																					<div class="slds-col"><!--style="max-width:95%;"-->
																					  <aura:if isTrue="{!Question.Type__c=='Checkbox'}"> 
																						 <lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																					  </aura:if>
																						 <aura:if isTrue="{!Question.Type__c=='Checkbox'}">   
																							<div class="checkbx" style="float: left;">
																								<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																									<lightning:input  aura:id="checkBox" type="checkbox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label="" checked="true" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									<aura:set attribute="else">
																										<lightning:input aura:id="checkBox" type="checkbox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label=""  value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									</aura:set>
																								</aura:if>
																							</div>
																						</aura:if>
																							<aura:unescapedHtml value="{!QuestionQuestnnaire.Question__r.Label__c}"  />
																					</div>
																					<aura:if isTrue="{!Question.Type__c!='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIconAll'}" />
																					</aura:if> 
																				</div>          
																			</span>
																		</h2>
																	</div>
																</div>
															</div>                                            
														</div>
													</div>
												</div>
												<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c !='Information' &amp;&amp; QuestionQuestnnaire.Question__r.Type__c !='Header/Footer'}">
													<div class="slds-panel__section">
														<div class="slds-grow questionBuilder slds-is-relative">
															<fieldset class="slds-form-element" style="min-width: 100%;">
																<div class="slds-form-element__control slds-clearfix">
																	<aura:if isTrue="{!Question.Type__c=='TextPlain'}">
																   <aura:if isTrue="{!v.BackToForm}">
																	   <!--Added this Condition for [CCEN-579] From Ops admin Profile No Max Char limit-->
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!QuestionQuestnnaire.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		<aura:set attribute="else">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}"  minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</aura:set>
																		</aura:if>                                                               
																	</aura:if>
																	<aura:if isTrue="{!Question.Type__c=='Email'}">
																		<lightning:input aura:id="inputFields" variant="label-hidden" label="" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Address'}">
																		<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Phone'}">
																		<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" messageWhenPatternMismatch="Phone number is not valid"/>                                             
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Date'}">
																		<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onchange="{!c.nullify}" onblur="{!c.nullify}" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}"  value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="date" id="inputDateFields" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}"  value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='DateTime'}">
																		<!--<lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="datetime" id="inputDateTimeFields" label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='RichText'}">
																		<div data-value="{!QuestionQuestnnaire.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																			<lightning:inputRichText label="" aura:id="inputRichtextFields" placeholder="Compose text..." class="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</div>                                                        
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='URL'}">
																		<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Number'}">
																		<div class="{!Question.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																			<aura:if isTrue="{!Question.Allow_Currency__c==true}">
																				<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default">
																					{!Question.Currency_Symbol__c}
																				</span>
																			</aura:if>
																			<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!QuestionQuestnnaire.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!QuestionQuestnnaire.patterns}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}" class="currency-val-padd"/>
																		</div>                                                        
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Picklist'}">
																		<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+QuesIndex+'_col1Questions_'+sectionIndex}" required="{!QuestionQuestnnaire.Required__c}" onchange="{!c.setPicklistScore}" variant="label-hidden" value="{!QuestionQuestnnaire.responseValue1}">
																			<option value="">choose one...</option>
																			<aura:iteration items="{!Question.Question_Options__r}" var="QustnOptionsSelect" indexVar="index">
																				<option value="{!QustnOptionsSelect.Id}">{!QustnOptionsSelect.Name__c}</option>
																			</aura:iteration>
																		</lightning:select>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Slider'}">
																		<lightning:slider aura:id="sliderfield" max="{!QuestionQuestnnaire.Maximum_value__c}" min="{!QuestionQuestnnaire.Minimum_Value__c}" step="{!QuestionQuestnnaire.Step_Size__c}" value="{!QuestionQuestnnaire.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden" title="{!QuestionQuestnnaire.responseValue1}"/>                                                        
																		<lightning:layout >
																				<lightning:layoutItem size="4">
																					<span>MIN: {!QuestionQuestnnaire.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!QuestionQuestnnaire.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-float_right">
																						<span>MAX: {!QuestionQuestnnaire.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Radio'}">
																		<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																			<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!Question.Question_Options__r}" value="{!QuestionQuestnnaire.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																		</div>                                                        
																	</aura:if>                                                    
																	
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='GPS Location'}">
																		<lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_col1Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																		<div class="slds-grid slds-wrap">
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				<lightning:input aura:id="inputFields" label="latitude" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'latitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			</div>
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				 <lightning:input aura:id="inputFields" label="longitude" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'longitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue2}"/>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Switch'}">
																		<div class="gkn-toggle">
																			<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																				<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				
																				<aura:set attribute="else">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				</aura:set>
																			</aura:if>
																		</div>
																	</aura:if>

																	<!-- Working to get value of following type of fields -->
																	<aura:if isTrue="{!Question.Type__c=='Signature'}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<lightning:button label="Sign" aura:id="signBttn" value="{!Question.Id}" onclick="{!c.showSignModel}" class="slds-float_right" />
																				 <div id="signatureUpload" style="display:none; color: #FF0000;">
                                                                                Please Upload Atleast One Signature!
                                                                                </div>
                                                                                <div id="{!'sig_'+Question.Id}">
																					<aura:if isTrue="{!QuestionQuestnnaire.responseValue1!=''}">
																						<img src="{!QuestionQuestnnaire.responseValue1}" width="200"/>
																					</aura:if>
																				</div>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Lookup'}">
																		<div class="lookup-field">
																			<c:LookupComp selrecord="{!QuestionQuestnnaire.responseValue1}" response="{!QuestionQuestnnaire.responseValue1}" questionId="{!Question.Id}" isRequired="{!QuestionQuestnnaire.Required__c}" sobjectName="{!QuestionQuestnnaire.lookup_Object_API_Name__c}" field_API_Name="{!QuestionQuestnnaire.lookup_Object_Field_Name__c}" field_ID="Id" />
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='Media'}">
																		<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																				Please Upload Atleast One Media File!
																		</div>
																	</aura:if>

																	<!-- Common Input Fields(Comment and Media Upload) for all questions-->
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Comment__c==true}">
																		<div class="comment-box">
																			<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!QuestionQuestnnaire.comment}"/>
																		</div>
																	</aura:if>
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Attachments__c==true}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			</div>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</div>
																	</aura:if>
																</div>
															</fieldset>
														</div>
													</div>
												</aura:if>
											</div>
										</div>
									</aura:if>
									<!--Start branching section-->
									<aura:iteration items="{!Question.Question_Questionnaires__r[0].branchingQuestnQuetnnaire}" var="branchingRecord" indexVar="branchingIndex">
										<aura:if isTrue="{!branchingRecord.isShowQuestion==true}">
											<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small" >
												<div class="slds-form slds-form_stacked slds-grow ">
													<div class="{!branchingRecord.Question__r.Type__c == 'Information' ? 'slds-panel__section qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!branchingRecord.Question__r.Type__c == 'Information' ? 'background:'+ branchingRecord.Question__r.Metadata__c+';color:'+Question.background_Color__c+' ; border-radius: 5xp;' : ''}">
														<div class="slds-media__body">
															<div class="slds-grid">
																<div class="slds-col">
																	<div class="slds-form-element">
																		<div class="slds-form-element__control">
																			<h2>
																				<span class="qf-text slds-is-relative">
																					<div class="slds-grid  slds-wrap">
																						<aura:if isTrue="{!branchingRecord.Required__c==true}">
																							<span id="asteric">&#42;</span>
																						</aura:if>
																						<div class="slds-col"><!-- style="max-width:95%;"-->
																							<lightning:helptext iconName="utility:info"  content="{!branchingRecord.Help_Text__c}" class="{!branchingRecord.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																							<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Checkbox'}">   
																								<div class="slds-form-element checkbx" style="float: left;">
																									<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																										<lightning:input label="" type="checkbox" checked="true" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										<aura:set attribute="else">
																											<lightning:input label="" type="checkbox" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										</aura:set>
																									</aura:if>
																								</div>
																							</aura:if>
																							<aura:unescapedHtml value="{!branchingRecord.Question__r.Label__c}"  />
																						</div>
																					</div>  
																				</span>
																			</h2>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<aura:if isTrue="{!branchingRecord.Question__r.Type__c !='Information'}">
														<div class="slds-panel__section">
															<div class="slds-grow questionBuilder slds-is-relative">
																<fieldset class="slds-form-element" style="min-width: 100%;">
																	<div class="slds-form-element__control slds-clearfix">
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='TextPlain'}">
																			<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!branchingRecord.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!branchingRecord.Required__c}" label="{!branchingRecord.Question__r.Label__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Email'}">
																		   <lightning:input aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!branchingRecord.Required__c}" label="" value="{!branchingRecord.responseValue1}" name="{!'name_'+Question.Id}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Address'}">
																			<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Phone'}">
																			<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" messageWhenPatternMismatch="Phone number is not valid"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='URL'}">
																			<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Date'}">
																			<!--<lightning:input type="date"  aura:id="inputDateFields" onclick ="{!c.nullify}" onblur ="{!c.nullify}" onchange="{!c.nullify}" class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="date"  id="inputDateFields"  class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='DateTime'}">
																			<!--<lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>  -->
																			<lightning:input type="datetime" id="inputDateTimeFields" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>   
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='RichText'}">
																			<div data-value="{!branchingRecord.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																				<lightning:inputRichText aura:id="inputRichtextFields" label="" class="{!'inputRichText '+Question.Id}" value="{!branchingRecord.responseValue1}" placeholder="Compose text..." title="{!'title_'+Question.Id}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Number'}">
																			<div class="{!branchingRecord.Question__r.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																				<aura:if isTrue="{!branchingRecord.Question__r.Allow_Currency__c==true}">
																					<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default currencyIcon">
																						{!branchingRecord.Question__r.Currency_Symbol__c}
																					</span>
																				</aura:if>                        
																			   <lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!branchingRecord.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!branchingRecord.patterns}" variant="label-hidden" required="{!branchingRecord.Required__c}" name="{!'name_'+Question.Id}" value="{!branchingRecord.responseValue1}" class="currency-val-padd"/>
																			</div>                                                            
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Radio'}">
																			<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																				<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!branchingRecord.QuestionOptions}" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																			</div>                                                        
																		</aura:if>  
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Picklist'}">
																			<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+branchingIndex}" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" onchange="{!c.setPicklistScore}" variant="label-hidden">
																				<option value="">choose one...</option>
																				<aura:iteration items="{!branchingRecord.QuestionOptions}" var="BranchingQustnOptionsSelect" indexVar="index">
																						<option value="{!BranchingQustnOptionsSelect.Name__c}">{!BranchingQustnOptionsSelect.Name__c}</option>
																					</aura:iteration>
																			</lightning:select>                                                         
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Lookup'}">
																			<c:LookupComp selrecord="{!branchingRecord.responseValue1}" response="{!branchingRecord.responseValue1}" sobjectName="{!branchingRecord.lookup_Object_API_Name__c}" field_API_Name="{!branchingRecord.lookup_Object_Field_Name__c}" field_ID="Id" />
																			<span class="glyphicon glyphicon-search form-control-feedback"></span>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Signature'}">
																			<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																				<div class="slds-file-selector__dropzone qf-hide-label">
																					<lightning:button label="Sign" value="{!branchingRecord.Question__c}" onclick="{!c.showSignModel}" class="slds-float_right" />
																					<div id="{!'sig_'+branchingRecord.Question__c}">
																						<img src="{!branchingRecord.responseValue1}" width="200"/>
																					</div>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Switch'}">
																			<div class="gkn-toggle">
																				<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					
																					<aura:set attribute="else">
																						<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					</aura:set>
																				</aura:if>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Slider'}">
																			<lightning:slider aura:id="sliderfield" max="{!branchingRecord.Maximum_value__c}" min="{!branchingRecord.Minimum_Value__c}" step="{!branchingRecord.Step_Size__c}" value="{!branchingRecord.responseValue1}" title="{!branchingRecord.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden"/>
																			<lightning:layout >
																				<lightning:layoutItem size="4">                                     
																					<span>MIN: {!branchingRecord.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!branchingRecord.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4" class="slds-float_right">
																					<div class="slds-float_right">
																						<span>MAX: {!branchingRecord.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='GPS Location'}">
																		   <lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_'+branchingIndex+'_col1Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																			<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					<lightning:input aura:id="inputFields" label="latitude" value="{!branchingRecord.responseValue1}" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'latitude_'+Question.Id}"/>
																				</div>
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					 <lightning:input aura:id="inputFields" label="longitude" value="{!branchingRecord.responseValue2}" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'longitude_'+Question.Id}"/>
																				</div>           
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Media'}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Allow_Comment__c==true}">
																			<div class="comment-box">
																				<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!branchingRecord.comment}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Allow_Attachments__c==true}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</aura:if>
																	</div>
																</fieldset>
															</div>
														</div>
													</aura:if>
												</div>
											</div>
										</aura:if>
										<!--end branching section-->
									</aura:iteration>
								</aura:iteration>
							</aura:iteration>
							</div>
							<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
							<aura:iteration items="{!section.col2Questions.lstQuestn}" var="Question" indexVar="QuesIndex">
								<aura:iteration items="{!Question.Question_Questionnaires__r}" var="QuestionQuestnnaire" indexVar="QuestionQuestnnaireIndex">
									<aura:if isTrue="{!QuestionQuestnnaire.Related_To_Column__c =='col2'}">
										<div aura:id="col-2" class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small">
											<div class="slds-form slds-form_stacked slds-grow ">
												<div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer' ? 'slds-panel__section1 qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!Question.Type__c=='Information'?'background:'+Question.Metadata__c+';border-radius:0xp;padding:5px 15px;' : ''}">
													<div class="slds-media__body">
														<div class="slds-grid">
															<div class="slds-col ">
																<div class="slds-form-element">
																	<div class="slds-form-element__control">
																		<h2>
																			<span class="qf-text slds-is-relative">
																				<div class="slds-grid  slds-wrap" data-questionid="{!Question.Id}"  aura:id="is_required" data-question_type="{!Question.Type__c}" data-is_required="{!QuestionQuestnnaire.Required__c==true}" data-max_length="{!QuestionQuestnnaire.Max_Char_Length__c}">
																						<aura:if isTrue="{!and(QuestionQuestnnaire.Required__c==true , Question.Type__c!='Checkbox')}" >
																								<span id="asteric">&#42;</span>
																						  </aura:if>
																					<div class="slds-col"><!--style="max-width:95%;"-->
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}"> 
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</aura:if>
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">   
																							<div class="checkbx" style="float: left;">
																								<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																									<lightning:input aura:id="checkBox"  type="checkbox" required="{!QuestionQuestnnaire.Required__c}" checked="true" variant="label-hidden" label=""  value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									<aura:set attribute="else">
																										<lightning:input aura:id="checkBox" type="checkbox" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}" variant="label-hidden" label="" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									</aura:set>
																								</aura:if>
																							</div>
																						</aura:if>
																						<aura:unescapedHtml value="{!QuestionQuestnnaire.Question__r.Label__c}"  />
																					</div>
																					<aura:if isTrue="{!Question.Type__c!='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIconAll'}" />
																					</aura:if> 
																				</div>  
																			</span>
																		</h2>
																	</div>
																</div>
															</div>                                            
														</div>
													</div>
												</div>
												<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c !='Information' &amp;&amp; QuestionQuestnnaire.Question__r.Type__c !='Header/Footer'}">
													<div class="slds-panel__section">
														<div class="slds-grow questionBuilder slds-is-relative">
															<fieldset class="slds-form-element" style="min-width: 100%;">
																<div class="slds-form-element__control slds-clearfix">
																	<aura:if isTrue="{!Question.Type__c=='TextPlain'}">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!QuestionQuestnnaire.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Email'}">
																		<lightning:input aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!QuestionQuestnnaire.Required__c}" label="" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Address'}">
																		<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Phone'}">
																		<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" messageWhenPatternMismatch="Phone number is not valid"/>                                             
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Date'}">
																		<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onblur="{!c.nullify}" onchange="{!c.nullify}" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}"  value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="date"  id="inputDateFields"  class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}"  value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='DateTime'}">
																		<!--lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" updateOn="change" label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="datetime"  id="inputDateTimeFields"   label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>	
																	</aura:if>   
																	
																	<aura:if isTrue="{!Question.Type__c=='RichText'}">
																		<div data-value="{!QuestionQuestnnaire.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																			<lightning:inputRichText aura:id="inputRichtextFields" placeholder="Compose text..." label="" class="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</div>                                                        
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='URL'}">
																		<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Number'}">
																		<div class="{!Question.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																			<aura:if isTrue="{!Question.Allow_Currency__c==true}">
																				<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default">
																					{!Question.Currency_Symbol__c}
																				</span>
																			</aura:if>                 
																			<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!QuestionQuestnnaire.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!QuestionQuestnnaire.patterns}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}" class="currency-val-padd"/>
																		</div>                                                  
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Picklist'}">
																		<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+QuesIndex+'_col2Questions_'+sectionIndex}" required="{!QuestionQuestnnaire.Required__c}" onchange="{!c.setPicklistScore}" variant="label-hidden" value="{!QuestionQuestnnaire.responseValue1}">
																			<option value="">choose one...</option>
																			<aura:iteration items="{!Question.Question_Options__r}" var="QustnOptionsSelect" indexVar="index">
																				<option value="{!QustnOptionsSelect.Id}">{!QustnOptionsSelect.Name__c}</option>
																			</aura:iteration>
																		</lightning:select>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Slider'}">
																		<lightning:slider aura:id="sliderfield" max="{!QuestionQuestnnaire.Maximum_value__c}" min="{!QuestionQuestnnaire.Minimum_Value__c}" step="{!QuestionQuestnnaire.Step_Size__c}" value="{!QuestionQuestnnaire.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden" title="{!QuestionQuestnnaire.responseValue1}"/>                                                        
																		<lightning:layout >
																				<lightning:layoutItem size="4">
																					<span>MIN: {!QuestionQuestnnaire.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!QuestionQuestnnaire.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-float_right">
																						<span>MAX: {!QuestionQuestnnaire.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Radio'}">
																		<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																			<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!Question.Question_Options__r}" value="{!QuestionQuestnnaire.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																		</div>                                                        
																	</aura:if>                                                    
																	
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='GPS Location'}">
																		<lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_col2Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>

																		<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				<lightning:input aura:id="inputFields" label="latitude" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'latitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			</div>
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				 <lightning:input aura:id="inputFields" label="longitude" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'longitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue2}"/>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Switch'}">
																		<div class="gkn-toggle">
																			<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																				<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				
																				<aura:set attribute="else">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				</aura:set>
																			</aura:if>
																		</div>
																	</aura:if>

																	<!-- Working to get value of following type of fields -->
																	<aura:if isTrue="{!Question.Type__c=='Signature'}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<lightning:button label="Sign" value="{!Question.Id}" onclick="{!c.showSignModel}" class="slds-float_right" />
																				<div id="{!'sig_'+Question.Id}">
																					<aura:if isTrue="{!QuestionQuestnnaire.responseValue1!=''}">
																						<img src="{!QuestionQuestnnaire.responseValue1}" width="200"/>
																					</aura:if>
																				</div>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Lookup'}">
																		<div class="lookup-field">
																			<c:LookupComp selrecord="{!QuestionQuestnnaire.responseValue1}" response="{!QuestionQuestnnaire.responseValue1}" questionId="{!Question.Id}" isRequired="{!QuestionQuestnnaire.Required__c}" sobjectName="{!QuestionQuestnnaire.lookup_Object_API_Name__c}" field_API_Name="{!QuestionQuestnnaire.lookup_Object_Field_Name__c}" field_ID="Id" />
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='Media'}">
																		<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																				Please Upload Atleast One Media File!
																		</div>
																	</aura:if>

																	<!-- Common Input Fields(Comment and Media Upload) for all questions-->
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Comment__c==true}">
																		<div class="comment-box">
																			<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!QuestionQuestnnaire.comment}"/>
																		</div>
																	</aura:if>
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Attachments__c==true}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			</div>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</div>
																	</aura:if>
																</div>
															</fieldset>
														</div>
													</div>
												</aura:if>
											</div>
										</div>
									</aura:if>
									<!--Start branching section-->
									<aura:iteration items="{!Question.Question_Questionnaires__r[0].branchingQuestnQuetnnaire}" var="branchingRecord" indexVar="branchingIndex">
										<aura:if isTrue="{!branchingRecord.isShowQuestion==true}">
											<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small" >
												<div class="slds-form slds-form_stacked slds-grow ">
													<div class="{!branchingRecord.Question__r.Type__c == 'Information' ? 'slds-panel__section qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!branchingRecord.Question__r.Type__c == 'Information' ? 'background:'+ branchingRecord.Question__r.Metadata__c+' ; border-radius: 5xp;' : ''}">
														<div class="slds-media__body">
															<div class="slds-grid">
																<div class="slds-col">
																	<div class="slds-form-element">
																		<div class="slds-form-element__control">
																			<h2>
																				<span class="qf-text slds-is-relative">
																					<div class="slds-grid  slds-wrap">
																						<aura:if isTrue="{!branchingRecord.Required__c==true}">
																							<span id="asteric">&#42;</span>
																						</aura:if>
																						<div class="slds-col"><!-- style="max-width:95%;"-->
																							<lightning:helptext iconName="utility:info"  content="{!branchingRecord.Help_Text__c}" class="{!branchingRecord.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																							<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Checkbox'}">   
																								<div class="slds-form-element checkbx gkn-checkbox" style="float: left;">
																									<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																										<lightning:input label="" type="checkbox" checked="true" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										<aura:set attribute="else">
																											<lightning:input label="" type="checkbox" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										</aura:set>
																									</aura:if>
																								</div>
																							</aura:if>
																							<aura:unescapedHtml value="{!branchingRecord.Question__r.Label__c}"  />
																						</div>
																					</div>  
																				</span>
																			</h2>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<aura:if isTrue="{!branchingRecord.Question__r.Type__c !='Information'}">
														<div class="slds-panel__section">
															<div class="slds-grow questionBuilder slds-is-relative">
																<fieldset class="slds-form-element" style="min-width: 100%;">
																	<div class="slds-form-element__control slds-clearfix">
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='TextPlain'}">
																			<lightning:input  aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!branchingRecord.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!branchingRecord.Required__c}" label="{!branchingRecord.Question__r.Label__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Email'}">
																		   <lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" name="{!'name_'+Question.Id}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Address'}">
																			<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Phone'}">
																			<lightning:input  aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" messageWhenPatternMismatch="Phone number is not valid"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='URL'}">
																			<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Date'}">
																	    	<!--<lightning:input type="date" aura:id="inputDateFields"  onclick ="{!c.nullify}" onblur ="{!c.nullify}" onchange="{!c.nullify}"  class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="date" id="inputDateFields"   class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='DateTime'}">
																			<!--<lightning:input type="datetime" aura:id="inputDateTimeFields"  onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="datetime" id="inputDateTimeFields"  label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>   
																		</aura:if>
 
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='RichText'}">
																			<div data-value="{!branchingRecord.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																				<lightning:inputRichText aura:id="inputRichtextFields" class="{!'inputRichText '+Question.Id}" value="{!branchingRecord.responseValue1}" placeholder="Compose text..." title="{!'title_'+Question.Id}"/>
																			</div>     
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Number'}">
																			<div class="{!branchingRecord.Question__r.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																				<aura:if isTrue="{!branchingRecord.Question__r.Allow_Currency__c==true}">
																					<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default currencyIcon">{!branchingRecord.Question__r.Currency_Symbol__c}</span>
																				</aura:if>
																				<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!branchingRecord.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!branchingRecord.patterns}" variant="label-hidden" required="{!branchingRecord.Required__c}" name="{!'name_'+Question.Id}" value="{!branchingRecord.responseValue1}" class="currency-val-padd"/>
																			</div>           
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Radio'}">
																			<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																				<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!branchingRecord.QuestionOptions}" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																			</div>                                                        
																		</aura:if>  
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Picklist'}">
																			<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+branchingIndex}" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" onchange="{!c.setPicklistScore}" variant="label-hidden">
																				<option value="">choose one...</option>
																				<aura:iteration items="{!branchingRecord.QuestionOptions}" var="BranchingQustnOptionsSelect" indexVar="index">
																						<option value="{!BranchingQustnOptionsSelect.Name__c}">{!BranchingQustnOptionsSelect.Name__c}</option>
																					</aura:iteration>
																			</lightning:select>                                                         
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Lookup'}">
																			<c:LookupComp selrecord="{!branchingRecord.responseValue1}" response="{!branchingRecord.responseValue1}" sobjectName="{!branchingRecord.lookup_Object_API_Name__c}" field_API_Name="{!branchingRecord.lookup_Object_Field_Name__c}" field_ID="Id" />
																			<span class="glyphicon glyphicon-search form-control-feedback"></span>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Signature'}">
																			<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																				<div class="slds-file-selector__dropzone qf-hide-label">
																					<lightning:button label="Sign" value="{!branchingRecord.Question__c}" onclick="{!c.showSignModel}" class="slds-float_right" />
																					<div id="{!'sig_'+branchingRecord.Question__c}">
																						<img src="{!branchingRecord.responseValue1}" width="200"/>
																					</div>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Switch'}">
																			<div class="gkn-toggle">
																				<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					
																					<aura:set attribute="else">
																						<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					</aura:set>
																				</aura:if>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Slider'}">
																			<lightning:slider aura:id="sliderfield" max="{!branchingRecord.Maximum_value__c}" min="{!branchingRecord.Minimum_Value__c}" step="{!branchingRecord.Step_Size__c}" value="{!branchingRecord.responseValue1}" title="{!branchingRecord.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden"/>
																			<lightning:layout >
																				<lightning:layoutItem size="4">                                     
																					<span>MIN: {!branchingRecord.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!branchingRecord.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4" class="slds-float_right">
																					<div class="slds-float_right">
																						<span>MAX: {!branchingRecord.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='GPS Location'}">
																		   <lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_'+branchingIndex+'_col2Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																			<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					<lightning:input aura:id="inputFields" label="latitude" value="{!branchingRecord.responseValue1}" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'latitude_'+Question.Id}"/>
																				</div>
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					 <lightning:input aura:id="inputFields" label="longitude" value="{!branchingRecord.responseValue2}" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'longitude_'+Question.Id}"/>
																				</div>           
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Media'}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Allow_Comment__c==true}">
																			<div class="comment-box">
																				<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!branchingRecord.comment}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Allow_Attachments__c==true}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</aura:if>
																	</div>
																</fieldset>
															</div>
														</div>
													</aura:if>
												</div>
											</div>
										</aura:if>
										<!--end branching section-->
									</aura:iteration>
								</aura:iteration>
							</aura:iteration>
							</div>
						</aura:if>
						<!-- Render if section with 3 columns-->
						<aura:if isTrue="{!section.sectionColNumber=='3'}">
							<div class="slds-p-right--small slds-p-left--small slds-size--4-of-12 slds-small-size--12-of-12 slds-medium-size--4-of-12 slds-large-size--4-of-12">
							<aura:iteration items="{!section.col1Questions.lstQuestn}" var="Question" indexVar="QuesIndex">
								<aura:iteration items="{!Question.Question_Questionnaires__r}" var="QuestionQuestnnaire" indexVar="QuestionQuestnnaireIndex">
									<aura:if isTrue="{!QuestionQuestnnaire.Related_To_Column__c =='col1'}">
										<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small">
											<div class="slds-form slds-form_stacked slds-grow ">
												<div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer' ? 'slds-panel__section1 qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!Question.Type__c=='Information'?'background:'+Question.Metadata__c+';color:'+Question.background_Color__c+';border-radius:0xp;padding:5px 15px;' : ''}">
													<div class="slds-media__body">
														<div class="slds-grid">
															<div class="slds-col ">
																<div class="slds-form-element">
																	<div class="slds-form-element__control">
																		<h2>
																			<span class="qf-text slds-is-relative">
																				<div class="slds-grid  slds-wrap" data-questionid="{!Question.Id}"  aura:id="is_required" data-question_type="{!Question.Type__c}" data-is_required="{!QuestionQuestnnaire.Required__c==true}" data-max_length="{!QuestionQuestnnaire.Max_Char_Length__c}">
																						<aura:if isTrue="{!and(QuestionQuestnnaire.Required__c==true , Question.Type__c!='Checkbox')}" >
																								<span id="asteric">&#42;</span>
																						  </aura:if>
																					<div class="slds-col"><!--style="max-width:95%;"-->
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}"> 
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</aura:if>
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">   
																							<div class="checkbx" style="float: left;">
																								<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																									<lightning:input aura:id="checkBox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label=""  type="checkbox" checked="true" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									<aura:set attribute="else">
																										<lightning:input aura:id="checkBox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label=""  type="checkbox" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									</aura:set>
																								</aura:if>
																							</div>
																						</aura:if>
																						<aura:unescapedHtml value="{!QuestionQuestnnaire.Question__r.Label__c}"  />
																					</div>
																					  <aura:if isTrue="{!Question.Type__c!='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIconAll'}" />
																					</aura:if>  
																				</div>  
																			</span>
																		</h2>
																	</div>
																</div>
															</div>                                            
														</div>
													</div>
												</div>
												<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c !='Information' &amp;&amp; QuestionQuestnnaire.Question__r.Type__c !='Header/Footer'}">
													<div class="slds-panel__section">
														<div class="slds-grow questionBuilder slds-is-relative">
															<fieldset class="slds-form-element" style="min-width: 100%;">
																<div class="slds-form-element__control slds-clearfix">
																	<aura:if isTrue="{!Question.Type__c=='TextPlain'}">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!QuestionQuestnnaire.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Email'}">
																		<lightning:input  label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Address'}">
																		<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Phone'}">
																		<lightning:input aura:id="inputFields" type="Tel" label=" " name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" messageWhenPatternMismatch="Phone number is not valid"/>                                             
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Date'}">
																		<!--<lightning:input type="date"  aura:id="inputDateFields" onclick ="{!c.nullify}" onchange="{!c.nullify}" onblur="{!c.nullify}" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='DateTime'}">
																		<!--<lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="datetime"  id="inputDateTimeFields"  label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if> 
																	
																	<aura:if isTrue="{!Question.Type__c=='RichText'}">
																		<div data-value="{!QuestionQuestnnaire.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																			<lightning:inputRichText aura:id="inputRichtextFields" placeholder="Compose text..." class="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</div>                                                        
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='URL'}">
																		<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Number'}">
																		<div class="{!Question.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																			<aura:if isTrue="{!Question.Allow_Currency__c==true}">
																				<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default">
																					{!Question.Currency_Symbol__c}
																				</span>
																			</aura:if>
																			<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!QuestionQuestnnaire.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!QuestionQuestnnaire.patterns}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}" class="currency-val-padd"/>
																		</div>                                                        
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Picklist'}">
																		<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+QuesIndex+'_col1Questions_'+sectionIndex}" required="{!QuestionQuestnnaire.Required__c}" onchange="{!c.setPicklistScore}" variant="label-hidden" value="{!QuestionQuestnnaire.responseValue1}">
																			<option value="">choose one...</option>
																			<aura:iteration items="{!Question.Question_Options__r}" var="QustnOptionsSelect" indexVar="index">
																				<option value="{!QustnOptionsSelect.Id}">{!QustnOptionsSelect.Name__c}</option>
																			</aura:iteration>
																		</lightning:select>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Slider'}">
																		<lightning:slider aura:id="sliderfield" max="{!QuestionQuestnnaire.Maximum_value__c}" min="{!QuestionQuestnnaire.Minimum_Value__c}" step="{!QuestionQuestnnaire.Step_Size__c}" value="{!QuestionQuestnnaire.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden" title="{!QuestionQuestnnaire.responseValue1}"/>                                                        
																		<lightning:layout >
																				<lightning:layoutItem size="4">
																					<span>MIN: {!QuestionQuestnnaire.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!QuestionQuestnnaire.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-float_right">
																						<span>MAX: {!QuestionQuestnnaire.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Radio'}">
																		<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																			<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!Question.Question_Options__r}" value="{!QuestionQuestnnaire.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																		</div>                                                        
																	</aura:if>                                                    
																	
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='GPS Location'}">
																		<lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_col1Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>

																		<div class="slds-gird slds-wrap">
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				<lightning:input aura:id="inputFields" label="latitude" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'latitude_'+Question.Id}"  value="{!QuestionQuestnnaire.responseValue1}"/>
																			</div>
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				 <lightning:input aura:id="inputFields" label="longitude" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'longitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue2}"/>
																			</div>           
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Switch'}">
																		<div class="gkn-toggle">
																			<aura:if isTrue="{!Question.Question_Options__r[0].Value__c==QuestionQuestnnaire.responseValue1}">
																				<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				
																				<aura:set attribute="else">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				</aura:set>
																			</aura:if>
																		</div>
																	</aura:if>

																	<!-- Working to get value of following type of fields -->
																	<aura:if isTrue="{!Question.Type__c=='Signature'}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<lightning:button label="Sign" aura:id="signBttn" value="{!Question.Id}" onclick="{!c.showSignModel}" class="slds-float_right" />
																				 <div id="signatureUpload" style="display:none; color: #FF0000;">
                                                                                Please Upload Atleast One Signature!
                                                                                </div>
                                                                                <div id="{!'sig_'+Question.Id}">
																					<aura:if isTrue="{!QuestionQuestnnaire.responseValue1!=''}">
																						<img src="{!QuestionQuestnnaire.responseValue1}" width="200"/>
																					</aura:if>
																				</div>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Lookup'}">
																		<div class="lookup-field">
																			<c:LookupComp selrecord="{!QuestionQuestnnaire.responseValue1}" response="{!QuestionQuestnnaire.responseValue1}" questionId="{!Question.Id}" isRequired="{!QuestionQuestnnaire.Required__c}" sobjectName="{!QuestionQuestnnaire.lookup_Object_API_Name__c}" field_API_Name="{!QuestionQuestnnaire.lookup_Object_Field_Name__c}" field_ID="Id" />
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='Media'}">
																		<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																				Please Upload Atleast One Media File!
																		</div>
																	</aura:if>

																	<!-- Common Input Fields(Comment and Media Upload) for all questions-->
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Comment__c==true}">
																		<div class="comment-box">
																			<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!QuestionQuestnnaire.comment}"/>
																		</div>
																	</aura:if>
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Attachments__c==true}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			</div>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</div>
																	</aura:if>
																</div>
															</fieldset>
														</div>
													</div>
												</aura:if>
											</div>
										</div>
									</aura:if>
									<!--Start branching section-->
									<aura:iteration items="{!Question.Question_Questionnaires__r[0].branchingQuestnQuetnnaire}" var="branchingRecord" indexVar="branchingIndex">
										<aura:if isTrue="{!branchingRecord.isShowQuestion==true}">
											<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small" >
												<div class="slds-form slds-form_stacked slds-grow ">
													<div class="{!branchingRecord.Question__r.Type__c == 'Information' ? 'slds-panel__section qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!branchingRecord.Question__r.Type__c == 'Information' ? 'background:'+ branchingRecord.Question__r.Metadata__c+' ; border-radius: 5xp;' : ''}">
														<div class="slds-media__body">
															<div class="slds-grid">
																<div class="slds-col">
																	<div class="slds-form-element">
																		<div class="slds-form-element__control">
																			<h2>
																				<span class="qf-text slds-is-relative">
																					<div class="slds-grid  slds-wrap">
																						<aura:if isTrue="{!branchingRecord.Required__c==true}">
																							<span id="asteric">&#42;</span>
																						</aura:if>
																						<div class="slds-col"><!-- style="max-width:95%;"-->
																							<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Checkbox'}">   
																								<div class="slds-form-element checkbx">
																									<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																										<lightning:input label="" type="checkbox" checked="true" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										<aura:set attribute="else">
																											<lightning:input label="" type="checkbox" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										</aura:set>
																									</aura:if>
																								</div>
																							</aura:if>
																							<aura:unescapedHtml value="{!branchingRecord.Question__r.Label__c}"  />
																							<lightning:helptext iconName="utility:info"  content="{!branchingRecord.Help_Text__c}" class="{!branchingRecord.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</div>
																						
																					</div>  
																				</span>
																			</h2>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<aura:if isTrue="{!branchingRecord.Question__r.Type__c !='Information'}">
														<div class="slds-panel__section">
															<div class="slds-grow questionBuilder slds-is-relative">
																<fieldset class="slds-form-element" style="min-width: 100%;">
																	<div class="slds-form-element__control slds-clearfix">
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='TextPlain'}">
																			<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!branchingRecord.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!branchingRecord.Required__c}" label="{!branchingRecord.Question__r.Label__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Email'}">
																		   <lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" name="{!'name_'+Question.Id}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Address'}">
																			<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Phone'}">
																			<lightning:input aura:id="inputFields" type="Tel" label=" " name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" messageWhenPatternMismatch="Phone number is not valid"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='URL'}">
																			<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Date'}">
																			<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onblur="{!c.nullify}" onchange="{!c.nullify} class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='DateTime'}">
																			<!-- <lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" updateOn="change" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>    -->
																		    <lightning:input type="datetime" id="inputDateTimeFields"  label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='RichText'}">
																			<div data-value="{!branchingRecord.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																				<lightning:inputRichText aura:id="inputRichtextFields" class="{!'inputRichText '+Question.Id}" value="{!branchingRecord.responseValue1}" placeholder="Compose text..." title="{!'title_'+Question.Id}"/>
																			</div>                                                            
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Number'}">
																			<div class="{!branchingRecord.Question__r.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																				<aura:if isTrue="{!branchingRecord.Question__r.Allow_Currency__c==true}">
																					<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default currencyIcon">{!branchingRecord.Question__r.Currency_Symbol__c}</span>
																				</aura:if>                         
																				<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!branchingRecord.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!branchingRecord.patterns}" variant="label-hidden" required="{!branchingRecord.Required__c}" name="{!'name_'+Question.Id}" value="{!branchingRecord.responseValue1}" class="currency-val-padd"/>
																			</div>                                                            
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Radio'}">
																			<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																				<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!branchingRecord.QuestionOptions}" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																			</div>                                                        
																		</aura:if>  
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Picklist'}">
																			<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+branchingIndex}" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" onchange="{!c.setPicklistScore}" variant="label-hidden">
																				<option value="">choose one...</option>
																				<aura:iteration items="{!branchingRecord.QuestionOptions}" var="BranchingQustnOptionsSelect" indexVar="index">
																						<option value="{!BranchingQustnOptionsSelect.Name__c}">{!BranchingQustnOptionsSelect.Name__c}</option>
																					</aura:iteration>
																			</lightning:select>                                                         
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Lookup'}">
																			<c:LookupComp selrecord="{!branchingRecord.responseValue1}" response="{!branchingRecord.responseValue1}" sobjectName="{!branchingRecord.lookup_Object_API_Name__c}" field_API_Name="{!branchingRecord.lookup_Object_Field_Name__c}" field_ID="Id" />
																			<span class="glyphicon glyphicon-search form-control-feedback"></span>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Signature'}">
																			<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																				<div class="slds-file-selector__dropzone qf-hide-label">
																					<lightning:button label="Sign" value="{!branchingRecord.Question__c}" onclick="{!c.showSignModel}" class="slds-float_right" />
																					<div id="{!'sig_'+branchingRecord.Question__c}">
																						<img src="{!branchingRecord.responseValue1}" width="200"/>
																					</div>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Switch'}">
																			<div class="gkn-toggle">          
																				<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					
																					<aura:set attribute="else">
																						<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col1Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					</aura:set>
																				</aura:if>
																			</div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Slider'}">
																			<lightning:slider aura:id="sliderfield" max="{!branchingRecord.Maximum_value__c}" min="{!branchingRecord.Minimum_Value__c}" step="{!branchingRecord.Step_Size__c}" value="{!branchingRecord.responseValue1}" title="{!branchingRecord.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden"/>
																			<lightning:layout >
																				<lightning:layoutItem size="4">                                     
																					<span>MIN: {!branchingRecord.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!branchingRecord.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4" class="slds-float_right">
																					<div class="slds-float_right">
																						<span>MAX: {!branchingRecord.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='GPS Location'}">
																		   <lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_'+branchingIndex+'_col1Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																			<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					<lightning:input aura:id="inputFields" label="latitude" value="{!branchingRecord.responseValue1}" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'latitude_'+Question.Id}"/>
																				</div>
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					 <lightning:input aura:id="inputFields" label="longitude" value="{!branchingRecord.responseValue2}" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'longitude_'+Question.Id}"/>
																				</div>           
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Media'}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Allow_Comment__c==true}">
																			<div class="comment-box">
																				<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!branchingRecord.comment}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Allow_Attachments__c==true}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</aura:if>
																	</div>
																</fieldset>
															</div>
														</div>
													</aura:if>
												</div>
											</div>
										</aura:if>
										<!--end branching section-->
									</aura:iteration>
								</aura:iteration>
							</aura:iteration>
							</div>
							<div class="slds-p-right--small slds-p-left--small slds-size--4-of-12 slds-small-size--12-of-12 slds-medium-size--4-of-12 slds-large-size--4-of-12">
							<aura:iteration items="{!section.col2Questions.lstQuestn}" var="Question" indexVar="QuesIndex">
								<aura:iteration items="{!Question.Question_Questionnaires__r}" var="QuestionQuestnnaire" indexVar="QuestionQuestnnaireIndex">
									<aura:if isTrue="{!QuestionQuestnnaire.Related_To_Column__c =='col2'}">
										<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small">
											<div class="slds-form slds-form_stacked slds-grow ">
												<div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer' ? 'slds-panel__section1 qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!Question.Type__c=='Information'?'background:'+Question.Metadata__c+';border-radius:0xp;padding:5px 15px;' : ''}">
													<div class="slds-media__body">
														<div class="slds-grid">
															<div class="slds-col ">
																<div class="slds-form-element">
																	<div class="slds-form-element__control">
																		<h2>
																			<span class="qf-text slds-is-relative">
																				<div class="slds-grid  slds-wrap" data-questionid="{!Question.Id}"  aura:id="is_required" data-question_type="{!Question.Type__c}" data-is_required="{!QuestionQuestnnaire.Required__c==true}" data-max_length="{!QuestionQuestnnaire.Max_Char_Length__c}">
																						<aura:if isTrue="{!and(QuestionQuestnnaire.Required__c==true , Question.Type__c!='Checkbox')}" >
																								<span id="asteric">&#42;</span>
																						  </aura:if>
																					<div class="slds-col"><!--style="max-width:95%;"-->
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</aura:if>
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">   
																							<div class="checkbx" style="float: left;">
																								<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																									<lightning:input aura:id="checkBox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label=""  type="checkbox" checked="true" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									<aura:set attribute="else">
																										<lightning:input aura:id="checkBox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label=""  type="checkbox" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									</aura:set>
																								</aura:if>
																							</div>
																						</aura:if>  
																						<aura:unescapedHtml value="{!QuestionQuestnnaire.Question__r.Label__c}"  />
																					</div>
																					<aura:if isTrue="{!Question.Type__c!='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIconAll'}" />
																					 </aura:if> 
																				</div>  
																			</span>
																		</h2>
																	</div>
																</div>
															</div>                                            
														</div>
													</div>
												</div>
												<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c !='Information' &amp;&amp; QuestionQuestnnaire.Question__r.Type__c !='Header/Footer'}">
													<div class="slds-panel__section">
														<div class="slds-grow questionBuilder slds-is-relative">
															<fieldset class="slds-form-element" style="min-width: 100%;">
																<div class="slds-form-element__control slds-clearfix">
																	<aura:if isTrue="{!Question.Type__c=='TextPlain'}">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!QuestionQuestnnaire.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Email'}">
																		<lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Address'}">
																		<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Phone'}">
																		<lightning:input aura:id="inputFields" type="Tel" label=" " name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" messageWhenPatternMismatch="Phone number is not valid"/>                                             
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Date'}">
																		<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onblur="{!c.nullify}" onchange="{!c.nullify}" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='DateTime'}">
																		<!--<lightning:input type="datetime"  aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="datetime" id="inputDateTimeFields" class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='RichText'}">
																		<div data-value="{!QuestionQuestnnaire.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																			<lightning:inputRichText aura:id="inputRichtextFields" placeholder="Compose text..." class="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</div>                                                        
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='URL'}">
																		<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Number'}">
																		<div class="{!Question.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																			<aura:if isTrue="{!Question.Allow_Currency__c==true}">
																				<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default">{!Question.Currency_Symbol__c}
																				</span>
																			</aura:if>
																			<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!QuestionQuestnnaire.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!QuestionQuestnnaire.patterns}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}" class="currency-val-padd"/>
																		</div>                                                  
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Picklist'}">
																		<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+QuesIndex+'_col2Questions_'+sectionIndex}" required="{!QuestionQuestnnaire.Required__c}" onchange="{!c.setPicklistScore}" variant="label-hidden" value="{!QuestionQuestnnaire.responseValue1}">
																			<option value="">choose one...</option>
																			<aura:iteration items="{!Question.Question_Options__r}" var="QustnOptionsSelect" indexVar="index">
																				<option value="{!QustnOptionsSelect.Id}">{!QustnOptionsSelect.Name__c}</option>
																			</aura:iteration>
																		</lightning:select>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Slider'}">
																		<lightning:slider aura:id="sliderfield" max="{!QuestionQuestnnaire.Maximum_value__c}" min="{!QuestionQuestnnaire.Minimum_Value__c}" step="{!QuestionQuestnnaire.Step_Size__c}" value="{!QuestionQuestnnaire.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden" title="{!QuestionQuestnnaire.responseValue1}"/>                                                        
																		<lightning:layout >
																				<lightning:layoutItem size="4">
																					<span>MIN: {!QuestionQuestnnaire.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!QuestionQuestnnaire.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-float_right">
																						<span>MAX: {!QuestionQuestnnaire.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Radio'}">
																		<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																			<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!Question.Question_Options__r}" value="{!QuestionQuestnnaire.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																		</div>                                                        
																	</aura:if>                                                    
																	
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='GPS Location'}">
																		<lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_col2Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>

																		<div class="slds-grid slds-wrap">
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				<lightning:input aura:id="inputFields" label="latitude" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'latitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			</div>
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				 <lightning:input aura:id="inputFields" label="longitude" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'longitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue2}"/>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Switch'}">
																		<div class="gkn-toggle">
																			<aura:if isTrue="{!Question.Question_Options__r[0].Value__c==QuestionQuestnnaire.responseValue1}">
																				<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				
																				<aura:set attribute="else">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				</aura:set>
																			</aura:if>
																		</div>
																	</aura:if>

																	<!-- Working to get value of following type of fields -->
																	<aura:if isTrue="{!Question.Type__c=='Signature'}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<lightning:button label="Sign" value="{!Question.Id}" onclick="{!c.showSignModel}" class="slds-float_right" />
																				<div id="{!'sig_'+Question.Id}">
																					<aura:if isTrue="{!QuestionQuestnnaire.responseValue1!=''}">
																						<img src="{!QuestionQuestnnaire.responseValue1}" width="200"/>
																					</aura:if>
																				</div>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Lookup'}">
																		<div class="lookup-field">
																			<c:LookupComp selrecord="{!QuestionQuestnnaire.responseValue1}" response="{!QuestionQuestnnaire.responseValue1}" questionId="{!Question.Id}" isRequired="{!QuestionQuestnnaire.Required__c}" sobjectName="{!QuestionQuestnnaire.lookup_Object_API_Name__c}" field_API_Name="{!QuestionQuestnnaire.lookup_Object_Field_Name__c}" field_ID="Id" />
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='Media'}">
																		<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																				Please Upload Atleast One Media File!
																		</div>
																	</aura:if>

																	<!-- Common Input Fields(Comment and Media Upload) for all questions-->
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Comment__c==true}">
																		<div class="comment-box">
																			<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!QuestionQuestnnaire.comment}"/>
																		</div>
																	</aura:if>
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Attachments__c==true}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			</div>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div>
																		</div>
																	</aura:if>
																</div>
															</fieldset>
														</div>
													</div>
												</aura:if>
											</div>
										</div>
									</aura:if>
									<!--Start branching section-->
									<aura:iteration items="{!Question.Question_Questionnaires__r[0].branchingQuestnQuetnnaire}" var="branchingRecord" indexVar="branchingIndex">
										<aura:if isTrue="{!branchingRecord.isShowQuestion==true}">
											<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small" >
												<div class="slds-form slds-form_stacked slds-grow ">
													<div class="{!branchingRecord.Question__r.Type__c == 'Information' ? 'slds-panel__section qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!branchingRecord.Question__r.Type__c == 'Information' ? 'background:'+ branchingRecord.Question__r.Metadata__c+' ; border-radius: 5xp;' : ''}">
														<div class="slds-media__body">
															<div class="slds-grid">
																<div class="slds-col">
																	<div class="slds-form-element">
																		<div class="slds-form-element__control">
																			<h2>
																				<span class="qf-text slds-is-relative">
																					<div class="slds-grid  slds-wrap">
																						<aura:if isTrue="{!branchingRecord.Required__c==true}">
																							<span id="asteric">&#42;</span>
																						</aura:if>
																						<div class="slds-col"><!-- style="max-width:95%;"-->
																							<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Checkbox'}">   
																								<div class="slds-form-element checkbx">
																									<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																										<lightning:input label="" type="checkbox" checked="true" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										<aura:set attribute="else">
																											<lightning:input label="" type="checkbox" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										</aura:set>
																									</aura:if>
																								</div>
																							</aura:if>
																							<aura:unescapedHtml value="{!branchingRecord.Question__r.Label__c}"  />
																							<lightning:helptext iconName="utility:info"  content="{!branchingRecord.Help_Text__c}" class="{!branchingRecord.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</div>
																						
																					</div>  
																				</span>
																			</h2>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<aura:if isTrue="{!branchingRecord.Question__r.Type__c !='Information'}">
														<div class="slds-panel__section">
															<div class="slds-grow questionBuilder slds-is-relative">
																<fieldset class="slds-form-element" style="min-width: 100%;">
																	<div class="slds-form-element__control slds-clearfix">
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='TextPlain'}">
																			<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!branchingRecord.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!branchingRecord.Required__c}" label="{!branchingRecord.Question__r.Label__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Email'}">
																		   <lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" name="{!'name_'+Question.Id}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Address'}">
																			<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Phone'}">
																			<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" messageWhenPatternMismatch="Phone number is not valid"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='URL'}">
																			<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Date'}">
																			<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onchange="{!c.nullify}" onblur="{!c.nullify}" class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='DateTime'}">
																			<!--<lightning:input type="datetime" aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->   
																			<lightning:input type="datetime" id="inputDateTimeFields" class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		 
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='RichText'}">
																			<div data-value="{!branchingRecord.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																				<lightning:inputRichText aura:id="inputRichtextFields" class="{!'inputRichText '+Question.Id}" value="{!branchingRecord.responseValue1}" placeholder="Compose text..." title="{!'title_'+Question.Id}"/>
																			</div>                                                            
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Number'}">
																			<div class="{!branchingRecord.Question__r.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																				<aura:if isTrue="{!branchingRecord.Question__r.Allow_Currency__c==true}">
																					<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default currencyIcon">{!branchingRecord.Question__r.Currency_Symbol__c}</span>
																				</aura:if>
																				<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!branchingRecord.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!branchingRecord.patterns}" variant="label-hidden" required="{!branchingRecord.Required__c}" name="{!'name_'+Question.Id}" value="{!branchingRecord.responseValue1}" class="currency-val-padd"/>
																			</div>           
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Radio'}">
																			<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																				<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!branchingRecord.QuestionOptions}" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																			</div>                                                        
																		</aura:if>  
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Picklist'}">
																			<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+branchingIndex}" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" onchange="{!c.setPicklistScore}" variant="label-hidden">
																				<option value="">choose one...</option>
																				<aura:iteration items="{!branchingRecord.QuestionOptions}" var="BranchingQustnOptionsSelect" indexVar="index">
																						<option value="{!BranchingQustnOptionsSelect.Name__c}">{!BranchingQustnOptionsSelect.Name__c}</option>
																					</aura:iteration>
																			</lightning:select>                                                         
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Lookup'}">
																			<c:LookupComp selrecord="{!branchingRecord.responseValue1}" response="{!branchingRecord.responseValue1}" sobjectName="{!branchingRecord.lookup_Object_API_Name__c}" field_API_Name="{!branchingRecord.lookup_Object_Field_Name__c}" field_ID="Id" />
																			<span class="glyphicon glyphicon-search form-control-feedback"></span>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Signature'}">
																			<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																				<div class="slds-file-selector__dropzone qf-hide-label">
																					<lightning:button label="Sign" value="{!branchingRecord.Question__c}" onclick="{!c.showSignModel}" class="slds-float_right" />
																					<div id="{!'sig_'+branchingRecord.Question__c}">
																						<img src="{!branchingRecord.responseValue1}" width="200"/>
																					</div>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Switch'}">
																			<div class="gkn-toggle">          
																				<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					
																					<aura:set attribute="else">
																						<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col2Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					</aura:set>
																				</aura:if>
																			</div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Slider'}">
																			<lightning:slider aura:id="sliderfield" max="{!branchingRecord.Maximum_value__c}" min="{!branchingRecord.Minimum_Value__c}" step="{!branchingRecord.Step_Size__c}" value="{!branchingRecord.responseValue1}" title="{!branchingRecord.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden"/>
																			<lightning:layout >
																				<lightning:layoutItem size="4">                                     
																					<span>MIN: {!branchingRecord.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!branchingRecord.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4" class="slds-float_right">
																					<div class="slds-float_right">
																						<span>MAX: {!branchingRecord.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='GPS Location'}">
																		   <lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_'+branchingIndex+'_col2Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																			<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					<lightning:input aura:id="inputFields" label="latitude" value="{!branchingRecord.responseValue1}" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'latitude_'+Question.Id}"/>
																				</div>
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					 <lightning:input aura:id="inputFields" label="longitude" value="{!branchingRecord.responseValue2}" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'longitude_'+Question.Id}"/>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Media'}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			</div></aura:if>

																		<aura:if isTrue="{!branchingRecord.Allow_Comment__c==true}">
																			<div class="comment-box">
																				<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!branchingRecord.comment}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Allow_Attachments__c==true}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</aura:if>
																	</div>
																</fieldset>
															</div>
														</div>
													</aura:if>
												</div>
											</div>
										</aura:if>
										<!--end branching section-->
									</aura:iteration>
								</aura:iteration>
							</aura:iteration>
							</div>
							<div class="slds-p-right--small slds-p-left--small slds-size--4-of-12 slds-small-size--12-of-12 slds-medium-size--4-of-12 slds-large-size--4-of-12">
							<aura:iteration items="{!section.col3Questions.lstQuestn}" var="Question" indexVar="QuesIndex">
								<aura:iteration items="{!Question.Question_Questionnaires__r}" var="QuestionQuestnnaire" indexVar="QuestionQuestnnaireIndex">
									<aura:if isTrue="{!QuestionQuestnnaire.Related_To_Column__c =='col3'}">
										<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small">
											<div class="slds-form slds-form_stacked slds-grow ">
												<div class="{!Question.Type__c == 'Information' || Question.Type__c == 'Header/Footer' ? 'slds-panel__section1 qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!Question.Type__c=='Information'?'background:'+Question.Metadata__c+';border-radius:0xp;padding:5px 15px;' : ''}">
													<div class="slds-media__body">
														<div class="slds-grid">
															<div class="slds-col ">
																<div class="slds-form-element">
																	<div class="slds-form-element__control">
																		<h2>
																			<span class="qf-text slds-is-relative">
																				<div class="slds-grid  slds-wrap" data-questionid="{!Question.Id}"  aura:id="is_required" data-question_type="{!Question.Type__c}" data-is_required="{!QuestionQuestnnaire.Required__c==true}" data-max_length="{!QuestionQuestnnaire.Max_Char_Length__c}">
																					  <aura:if isTrue="{!and(QuestionQuestnnaire.Required__c==true , Question.Type__c!='Checkbox')}" >
																								<span id="asteric">&#42;</span>
																						</aura:if>
																					<div class="slds-col"><!--style="max-width:95%;"-->
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</aura:if>
																						<aura:if isTrue="{!Question.Type__c=='Checkbox'}">   
																							<div class="checkbx" style="float: left;">
																								<aura:if isTrue="{!QuestionQuestnnaire.responseValue1=='true'}">
																									<lightning:input aura:id="checkBox" required="{!QuestionQuestnnaire.Required__c}" variant="label-hidden" label=""  type="checkbox" checked="true" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									<aura:set attribute="else">
																										<lightning:input aura:id="checkBox" required="{!QuestionQuestnnaire.Required__c}"  variant="label-hidden" label=""  type="checkbox" value="{!QuestionQuestnnaire.responseValue1}" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex}" onchange="{!c.checkboxOption}" />
																									</aura:set>
																								</aura:if>
																							</div>
																						</aura:if>
																							<aura:unescapedHtml value="{!QuestionQuestnnaire.Question__r.Label__c}"  />
																					</div>
																					<aura:if isTrue="{!Question.Type__c!='Checkbox'}">
																						<lightning:helptext iconName="utility:info"  content="{!QuestionQuestnnaire.Help_Text__c}" class="{!QuestionQuestnnaire.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIconAll'}" />
																					</aura:if> 
																				</div>  
																			</span>
																		</h2>
																	</div>
																</div>
															</div>                                            
														</div>
													</div>
												</div>
												<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c !='Information' &amp;&amp; QuestionQuestnnaire.Question__r.Type__c !='Header/Footer'}">
													<div class="slds-panel__section">
														<div class="slds-grow questionBuilder slds-is-relative">
															<fieldset class="slds-form-element" style="min-width: 100%;">
																<div class="slds-form-element__control slds-clearfix">
																	<aura:if isTrue="{!Question.Type__c=='TextPlain'}">
																		<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!QuestionQuestnnaire.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" label="{!QuestionQuestnnaire.Question__r.Label__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Email'}">
																		<lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Address'}">
																		<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Phone'}">
																		<lightning:input aura:id="inputFields" type="Tel" label="" name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}"  value="{!QuestionQuestnnaire.responseValue1}" messageWhenPatternMismatch="Phone number is not valid"/>                                             
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Date'}">
																		<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onblur="{!c.nullify}" onchange="{!c.nullify}" class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" required="{!QuestionQuestnnaire.Required__c}" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='DateTime'}">
																		<!--<lightning:input type="datetime" aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/> -->
																		<lightning:input type="datetime" id="inputDateTimeFields" label=" " class="form-control datetimepick" required="{!QuestionQuestnnaire.Required__c}" displayDatePicker="true" labelClass="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='RichText'}">
																		<div data-value="{!QuestionQuestnnaire.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																			<lightning:inputRichText aura:id="inputRichtextFields" placeholder="Compose text..." class="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																		</div>                                                        
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='URL'}">
																		<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" value="{!QuestionQuestnnaire.responseValue1}"/>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Number'}">
																		<div class="{!Question.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																			<aura:if isTrue="{!Question.Allow_Currency__c==true}">
																				<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default">
																					{!Question.Currency_Symbol__c}
																				</span>
																			</aura:if>
																			<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!QuestionQuestnnaire.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!QuestionQuestnnaire.patterns}" variant="label-hidden" required="{!QuestionQuestnnaire.Required__c}" name="{!'name_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}" class="currency-val-padd"/>
																		</div>            
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Picklist'}">
																		<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+QuesIndex+'_col3Questions_'+sectionIndex}" required="{!QuestionQuestnnaire.Required__c}" onchange="{!c.setPicklistScore}" variant="label-hidden" value="{!QuestionQuestnnaire.responseValue1}">
																			<option value="">choose one...</option>
																			<aura:iteration items="{!Question.Question_Options__r}" var="QustnOptionsSelect" indexVar="index">
																				<option value="{!QustnOptionsSelect.Id}">{!QustnOptionsSelect.Name__c}</option>
																			</aura:iteration>
																		</lightning:select>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Slider'}">
																		<lightning:slider aura:id="sliderfield" max="{!QuestionQuestnnaire.Maximum_value__c}" min="{!QuestionQuestnnaire.Minimum_Value__c}" step="{!QuestionQuestnnaire.Step_Size__c}" value="{!QuestionQuestnnaire.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden" title="{!QuestionQuestnnaire.responseValue1}"/>                                                        
																		<lightning:layout >
																				<lightning:layoutItem size="4">
																					<span>MIN: {!QuestionQuestnnaire.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!QuestionQuestnnaire.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-float_right">
																						<span>MAX: {!QuestionQuestnnaire.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																	</aura:if>
																	
																	<aura:if isTrue="{!Question.Type__c=='Radio'}">
																		<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																			<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!Question.Question_Options__r}" value="{!QuestionQuestnnaire.responseValue1}" required="{!QuestionQuestnnaire.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																		</div>                                                        
																	</aura:if>                                                    
																	
																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='GPS Location'}">
																		<lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_col3Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>

																		<div class="slds-grid slds-wrap">
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				<lightning:input aura:id="inputFields" label="latitude" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'latitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue1}"/>
																			</div>
																			<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																				 <lightning:input aura:id="inputFields" label="longitude" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!QuestionQuestnnaire.Required__c}" name="{!'longitude_'+Question.Id}" value="{!QuestionQuestnnaire.responseValue2}"/>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Switch'}">
																		<div class="gkn-toggle">
																			<aura:if isTrue="{!Question.Question_Options__r[0].Value__c==QuestionQuestnnaire.responseValue1}">
																				<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				
																				<aura:set attribute="else">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!Question.Question_Options__r[0].Name__c}" messageToggleInactive="{!Question.Question_Options__r[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex}" onchange="{!c.checkboxOption}"/>
																				</aura:set>
																			</aura:if>
																		</div>
																	</aura:if>

																	<!-- Working to get value of following type of fields -->
																	<aura:if isTrue="{!Question.Type__c=='Signature'}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<lightning:button label="Sign" value="{!Question.Id}" onclick="{!c.showSignModel}" class="slds-float_right" />
																				<div id="{!'sig_'+Question.Id}">
																					<aura:if isTrue="{!QuestionQuestnnaire.responseValue1!=''}">
																						<img src="{!QuestionQuestnnaire.responseValue1}" width="200"/>
																					</aura:if>
																				</div>
																			</div>
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!Question.Type__c=='Lookup'}">
																		<div class="lookup-field">
																			<c:LookupComp selrecord="{!QuestionQuestnnaire.responseValue1}" response="{!QuestionQuestnnaire.responseValue1}" questionId="{!Question.Id}" isRequired="{!QuestionQuestnnaire.Required__c}" sobjectName="{!QuestionQuestnnaire.lookup_Object_API_Name__c}" field_API_Name="{!QuestionQuestnnaire.lookup_Object_Field_Name__c}" field_ID="Id" />
																		</div>
																	</aura:if>

																	<aura:if isTrue="{!QuestionQuestnnaire.Question__r.Type__c=='Media'}">
																		<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																		<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																				Please Upload Atleast One Media File!
																		</div>
																	</aura:if>

																	<!-- Common Input Fields(Comment and Media Upload) for all questions-->
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Comment__c==true}">
																		<div class="comment-box">
																			<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!QuestionQuestnnaire.comment}"/>
																		</div>
																	</aura:if>
																	<aura:if isTrue="{!QuestionQuestnnaire.Allow_Attachments__c==true}">
																		<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																			<div class="slds-file-selector__dropzone qf-hide-label">
																				<c:FileUploader fileName="{!QuestionQuestnnaire.attachment}" questionId="{!Question.Id}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			</div>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</div>
																	</aura:if>
																</div>
															</fieldset>
														</div>
													</div>
												</aura:if>
											</div>
										</div>
									</aura:if>
									<!--Start branching section-->
									<aura:iteration items="{!Question.Question_Questionnaires__r[0].branchingQuestnQuetnnaire}" var="branchingRecord" indexVar="branchingIndex">
										<aura:if isTrue="{!branchingRecord.isShowQuestion==true}">
											<div class="slds-panel slds-p-top_none qf-box slds-p-left_none slds-p-right_none slds-p-bottom_none slds-grid slds-grid_vertical slds-nowrap  slds-m-top_x-small" >
												<div class="slds-form slds-form_stacked slds-grow ">
													<div class="{!branchingRecord.Question__r.Type__c == 'Information' ? 'slds-panel__section qf-information-section' : 'slds-panel__section slds-p-bottom_none'}" Style="{!branchingRecord.Question__r.Type__c == 'Information' ? 'background:'+ branchingRecord.Question__r.Metadata__c+' ; border-radius: 5xp;' : ''}">
														<div class="slds-media__body">
															<div class="slds-grid">
																<div class="slds-col">
																	<div class="slds-form-element">
																		<div class="slds-form-element__control">
																			<h2>
																				<span class="qf-text slds-is-relative">
																					<div class="slds-grid  slds-wrap">
																						<aura:if isTrue="{!branchingRecord.Required__c==true}">
																							<span id="asteric">&#42;</span>
																						</aura:if>
																						<div class="slds-col"><!-- style="max-width:95%;"-->
																							<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Checkbox'}">   
																								<div class="slds-form-element checkbx">
																									<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																										<lightning:input label="" type="checkbox" checked="true" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										<aura:set attribute="else">
																											<lightning:input label="" type="checkbox" value="{!branchingRecord.responseValue1}" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}" />
																										</aura:set>
																									</aura:if>
																								</div>
																							</aura:if>
																							<aura:unescapedHtml value="{!branchingRecord.Question__r.Label__c}"  />
																							<lightning:helptext iconName="utility:info"  content="{!branchingRecord.Help_Text__c}" class="{!branchingRecord.Help_Text_Required__c==false?'hidehelptextIcon':'helptextIcon'}" />
																						</div>
																						
																					</div>  
																				</span>
																			</h2>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<aura:if isTrue="{!branchingRecord.Question__r.Type__c !='Information'}">
														<div class="slds-panel__section">
															<div class="slds-grow questionBuilder slds-is-relative">
																<fieldset class="slds-form-element" style="min-width: 100%;">
																	<div class="slds-form-element__control slds-clearfix">
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='TextPlain'}">
																			<lightning:input aura:id="inputFields" name="{!'name_'+Question.Id}" maxlength="{!branchingRecord.Max_Char_Length__c}" minlength="0" variant="label-hidden" required="{!branchingRecord.Required__c}" label="{!branchingRecord.Question__r.Label__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Email'}">
																		   <lightning:input label="" aura:id="inputFields" variant="label-hidden" type="email" pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" messageWhenPatternMismatch="Enter valid email address format." maxlength="255" minlength="0" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" name="{!'name_'+Question.Id}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Address'}">
																			<lightning:textarea aura:id="inputFields" name="{!'name_'+Question.Id}" placeholder="Address" label="" maxlength="300" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Phone'}">
																			<lightning:input aura:id="inputFields" type="Tel" label=" " name="{!'name_'+Question.Id}" pattern="^[0-9_ ]*$" maxlength="40" variant="label-hidden" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" messageWhenPatternMismatch="Phone number is not valid"/>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='URL'}">
																			<lightning:input aura:id="inputFields" type="url" label="" name="{!'name_'+Question.Id}" variant="label-hidden" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Date'}">
																			<!--<lightning:input type="date"  aura:id="inputDateFields" onclick="{!c.nullify}" onchange="{!c.nullify}" onblur="{!c.nullify}" class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/> -->
																			<lightning:input type="date" id="inputDateFields"  class="form-control datepick " displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='DateTime'}">
																			<!--<lightning:input type="datetime" aura:id="inputDateTimeFields" onclick="{!c.nullifyDate}" onblur="{!c.nullifyDate}" onchange="{!c.nullifyDate}" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>  --> 
																			<lightning:input type="datetime" id="inputDateTimeFields" label=" " class="form-control datetimepick" displayDatePicker="true" value="{!branchingRecord.responseValue1}" labelClass="{!'name_'+Question.Id}" required="{!branchingRecord.Required__c}"/>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='RichText'}">
																			<div data-value="{!branchingRecord.Max_Char_Length__c}" onclick="{!c.getCharLimit}">
																				<lightning:inputRichText aura:id="inputRichtextFields" class="{!'inputRichText '+Question.Id}" value="{!branchingRecord.responseValue1}" placeholder="Compose text..." title="{!'title_'+Question.Id}"/>
																			</div>                                                            
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Number'}">
																			<div class="{!branchingRecord.Question__r.Allow_Currency__c==true?'slds-form-element__control slds-input-has-icon slds-input-has-icon_left marginB5':'slds-form-element__control marginB5'}">
																				<aura:if isTrue="{!branchingRecord.Question__r.Allow_Currency__c==true}">
																					<span class="currency-symbal slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default currencyIcon">{!branchingRecord.Question__r.Currency_Symbol__c}</span>
																				</aura:if>
																				<lightning:input aura:id="inputFields" label="" maxlength="18" min="0" messageWhenBadInput="Please enter valid format value" messageWhenPatternMismatch="{!branchingRecord.messages}" messageWhenValueMissing="Please enter the currency" messageWhenTooLong="18 char limit" messageWhenRangeOverflow="18 char limit" pattern="{!branchingRecord.patterns}" variant="label-hidden" required="{!branchingRecord.Required__c}" name="{!'name_'+Question.Id}" value="{!branchingRecord.responseValue1}" class="currency-val-padd"/>
																			</div>           
																		</aura:if>                                                        
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Radio'}">
																			<div class="selection_isrequired" data-required_property="{!QuestionQuestnnaire.Required__c}">
																				<lightning:radioGroup aura:id="inputRadioFields" name="{!'radioButtonGroup'+Question.Id}" label="Radio Button Group" options="{!branchingRecord.QuestionOptions}" value="{!branchingRecord.responseValue1}" required="{!branchingRecord.Required__c}" class="gkn-radio-field" messageWhenValueMissing="Please select options"/>
																			</div>                                                        
																		</aura:if>  
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Picklist'}">
																			<lightning:select aura:id="inputFields" name="{!'name_'+Question.Id}" label="{!'sel_'+branchingIndex}" required="{!branchingRecord.Required__c}" value="{!branchingRecord.responseValue1}" onchange="{!c.setPicklistScore}" variant="label-hidden">
																				<option value="">choose one...</option>
																				<aura:iteration items="{!branchingRecord.QuestionOptions}" var="BranchingQustnOptionsSelect" indexVar="index">
																						<option value="{!BranchingQustnOptionsSelect.Name__c}">{!BranchingQustnOptionsSelect.Name__c}</option>
																					</aura:iteration>
																			</lightning:select>                                                         
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Lookup'}">
																			<c:LookupComp selrecord="{!branchingRecord.responseValue1}" response="{!branchingRecord.responseValue1}" sobjectName="{!branchingRecord.lookup_Object_API_Name__c}" field_API_Name="{!branchingRecord.lookup_Object_Field_Name__c}" field_ID="Id" />
																			<span class="glyphicon glyphicon-search form-control-feedback"></span>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Signature'}">
																			<div class="slds-file-selector slds-file-selector_files slds-clearfix slds-m-top_small">
																				<div class="slds-file-selector__dropzone qf-hide-label">
																					<lightning:button label="Sign" value="{!branchingRecord.Question__c}" onclick="{!c.showSignModel}" class="slds-float_right" />
																					<div id="{!'sig_'+branchingRecord.Question__c}">
																						<img src="{!branchingRecord.responseValue1}" width="200"/>
																					</div>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Switch'}">
																			<div class="gkn-toggle">          
																				<aura:if isTrue="{!branchingRecord.responseValue1=='true'}">
																					<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}"  checked="true" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					
																					<aura:set attribute="else">
																						<lightning:input aura:id="inputFields" type="toggle" label="Toggle" messageToggleActive="{!branchingRecord.QuestionOptions[0].Name__c}" messageToggleInactive="{!branchingRecord.QuestionOptions[1].Name__c}" checked="false" name="{!'name_'+QuesIndex+'_col3Questions_'+sectionIndex+'_'+branchingIndex}" onchange="{!c.checkboxOption}"/>
																					</aura:set>
																				</aura:if>
																			</div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Slider'}">
																			<lightning:slider aura:id="sliderfield" max="{!branchingRecord.Maximum_value__c}" min="{!branchingRecord.Minimum_Value__c}" step="{!branchingRecord.Step_Size__c}" value="{!branchingRecord.responseValue1}" title="{!branchingRecord.responseValue1}" label="{!'name_'+Question.Id}" variant="label-hidden"/>
																			<lightning:layout >
																				<lightning:layoutItem size="4">     
																					<span>MIN: {!branchingRecord.Minimum_Value__c}</span>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4">
																					<div class="slds-align_absolute-center">
																						<span>Selected: {!branchingRecord.responseValue1}</span>
																					</div>
																				</lightning:layoutItem>
																				<lightning:layoutItem size="4" class="slds-float_right">
																					<div class="slds-float_right">
																						<span>MAX: {!branchingRecord.Maximum_value__c}</span>
																					</div>
																				</lightning:layoutItem>
																			</lightning:layout>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='GPS Location'}">
																		   <lightning:button variant="brand" label="Get latitude/longitude" name="{!'GeoBtn_'+QuesIndex+'_'+branchingIndex+'_col3Questions_'+sectionIndex}" onclick="{!c.getCurrentLocation }" value="{!Question.Id}"/>
																			<div class="slds-grid slds-wrap">
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					<lightning:input aura:id="inputFields" label="latitude" value="{!branchingRecord.responseValue1}" pattern="^(\+|-)?(?:90(?:(?:\.0{1,18})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Latitude should be a decimal number in a range [-90, 90]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'latitude_'+Question.Id}"/>
																				</div>
																				<div class="slds-p-right--small slds-p-left--small slds-size--6-of-12 slds-small-size--12-of-12 slds-medium-size--6-of-12 slds-large-size--6-of-12">
																					 <lightning:input aura:id="inputFields" label="longitude" value="{!branchingRecord.responseValue2}" pattern="^(\+|-)?(?:180(?:(?:\.0{1,18})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,18})?))$" messageWhenPatternMismatch="Longitude should be a decimal number in a range [-180, 180]" messageWhenValueMissing="Coordinate is required" required="{!branchingRecord.Required__c}" name="{!'longitude_'+Question.Id}"/>
																				</div>
																			</div>
																		</aura:if>
																		
																		<aura:if isTrue="{!branchingRecord.Question__r.Type__c=='Media'}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																			 </div>
																		</aura:if>

																		<aura:if isTrue="{!branchingRecord.Allow_Comment__c==true}">
																			<div class="comment-box">
																				<lightning:input aura:id="inputFields" label=" Comment" class="" maxlength="255" minlength="0"  name="{!'comment_'+Question.Id}" value="{!branchingRecord.comment}"/>
																			</div>
																		</aura:if>
																		<aura:if isTrue="{!branchingRecord.Allow_Attachments__c==true}">
																			<c:FileUploader fileName="{!branchingRecord.attachment}" questionId="{!branchingRecord.Question__c}" questionerId="{!v.recordId}" required="{!QuestionQuestnnaire.Required__c}" Uploadvalidmap="{!v.validmap}" AccountId="{!v.AccId}"/>
																			<div id="{!Question.Id}" style="display:none; color: #FF0000;">
																					Please Upload Atleast One Media File!
																				</div>
																		</aura:if>
																	</div>
																</fieldset>
															</div>
														</div>
													</aura:if>
												</div>
											</div>
										</aura:if>
										<!--end branching section-->
									</aura:iteration>
								</aura:iteration>
							</aura:iteration>
							</div>
						</aura:if>
					</div>
				</aura:iteration>
			</div>        
		</article>    
		<!--End container section -->    
		<aura:if isTrue="{!v.isCustomButton &amp;&amp; v.buttonPosition=='Bottom'}">
			<lightning:card title="Action" class="border">
				<lightning:layout >
					<lightning:layoutItem size="12">
						<center>
							<div class="slds-grid slds-wrap" >
								<aura:if isTrue="{!v.isMergeAllSection}">
									<button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonBGColor+';'+'border-color:'+v.buttonBorderColor+';'+'color:'+v.buttonTextColor+';'}" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
								</aura:if>
								<aura:if isTrue="{!v.isMergeAllSection==false}">
									<div class="slds-col slds-p-around_small">
										<button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonPrevBGColor+';'+'border-color:'+v.buttonPrevBorderColor+';'+'color:'+v.buttonPrevTextColor+';'}" onclick="{!c.previousSection}" disabled="{!v.disablePrevSection == true ? false : true}">{!v.buttonPrevLabel}</button>
									</div>
									<div class="slds-col slds-p-around_small">                                      
										<div><button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonNextBGColor+';'+'border-color:'+v.buttonNextBorderColor+';'+'color:'+v.buttonNextTextColor+';'}" onclick="{!c.nextSection}" disabled="{!v.disableNextSection == true ? false : true}">{!v.buttonNextLabel}</button></div>
									</div>
									<div class="slds-col slds-p-around_small" >                      
										<button class="slds-button slds-button_neutral" style="{!'background:'+v.buttonBGColor+';'+'border-color:'+v.buttonBorderColor+';'+'color:'+v.buttonTextColor+';'}" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
									</div>
								</aura:if>
							</div>
						</center>
					</lightning:layoutItem>
				</lightning:layout>
			</lightning:card>
		</aura:if>
		<aura:if isTrue="{!v.isCustomButton==false &amp;&amp; v.buttonPosition=='Bottom'}">
			<lightning:card title="Action" class="border">
				<lightning:layout >
					<lightning:layoutItem size="12">	
						<center>
							<div class="slds-grid slds-wrap">
								<aura:if isTrue="{!v.isMergeAllSection}">
									<div class="slds-col slds-p-around_small">                      
										<button class="slds-button slds-button_brand" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
									</div>
								</aura:if>
								<aura:if isTrue="{!v.isMergeAllSection==false}">
									<div class="slds-col slds-p-around_small">
										<button class="slds-button slds-button_neutral" onclick="{!c.previousSection}" disabled="{!v.disablePrevSection == true ? false : true}">{!v.buttonPrevLabel}</button>
									</div>
									<div class="slds-col slds-p-around_small">                                      
										<div><button class="slds-button slds-button_neutral" onclick="{!c.nextSection}" disabled="{!v.disableNextSection == true ? false : true}">{!v.buttonNextLabel}</button></div>
									</div>
									<div class="slds-col slds-p-around_small">                      
										<button class="slds-button slds-button_brand" onclick="{!c.saveResponseClick}" disabled="{!v.approveStatus == true ? true : false}">{!v.buttonSubmitLabel}</button>
									</div>
								</aura:if>
							</div>
						</center>
					</lightning:layoutItem>
				</lightning:layout>
			</lightning:card>
		</aura:if>    

		<aura:if isTrue="{!v.showSign==true}">
			<c:SignatureUIComp questionerId="{!v.recordId}" questionId="{!v.questionId}" showSign="{!v.showSign}" lstQQuesnnaire="{!v.lstQQuesnnaire}"/>
		</aura:if>
	</aura:component>